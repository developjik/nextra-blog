import { JsonLd } from '~/app/_components'

<JsonLd
  metadata={{
    title: 'Sentry: ì‹¤ì‹œê°„ ì—ëŸ¬ ëª¨ë‹ˆí„°ë§ ë° ì„±ëŠ¥ ì¶”ì  í”Œë«í¼',
    description: 'Sentryì˜ ê°œë…ê³¼ í™œìš© ë°©ë²•ì„ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•œ ê°€ì´ë“œì…ë‹ˆë‹¤. ì—ëŸ¬ ëª¨ë‹ˆí„°ë§, ì„±ëŠ¥ ì¶”ì , ë¸Œë ˆë“œí¬ëŸ¼, ë¦´ë¦¬ìŠ¤ ì¶”ì  ë“± í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ í•„ìˆ˜ì ì¸ ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥ì„ React ë° Next.js ì˜ˆì œì™€ í•¨ê»˜ ì„¤ëª…í•©ë‹ˆë‹¤.',
    date: '2026-01-20',
    slug: 'sentry-error-monitoring-guide',
    tags: ['Sentry', 'React', 'ì—ëŸ¬ ëª¨ë‹ˆí„°ë§', 'ì„±ëŠ¥ ìµœì í™”', 'ìš´ì˜', 'DevOps', 'ëª¨ë‹ˆí„°ë§', 'ê°€ì´ë“œ'],
  }}
/>

# Sentry: ì‹¤ì‹œê°„ ì—ëŸ¬ ëª¨ë‹ˆí„°ë§ ë° ì„±ëŠ¥ ì¶”ì  í”Œë«í¼

## ğŸ“‹ ë¬¸ì„œ ë¶„ì„

- **ë¬¸ì„œ ìœ í˜•**: Explanation (ê°œë… ì„¤ëª…) + Tutorial (ì‹¤ìŠµ ê°€ì´ë“œ)
- **ëŒ€ìƒ ë…ì**: ì´ˆê¸‰~ì¤‘ê¸‰ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì
- **ì£¼ìš” ëª©í‘œ**: Sentryì˜ ê°œë…ì„ ì´í•´í•˜ê³  í”„ë¡œì íŠ¸ì— ì ìš©í•  ìˆ˜ ìˆìŒ
- **ì˜ˆìƒ ê¸¸ì´**: ì¤‘ê°„~ê¸º

---

## ê°œìš”

SentryëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì—ëŸ¬ë¥¼ ì¶”ì í•˜ê³  ì„±ëŠ¥ì„ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ í”Œë«í¼ì…ë‹ˆë‹¤. í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ë°œìƒí•˜ëŠ” ì˜ˆì™¸, í¬ë˜ì‹œ, ì„±ëŠ¥ ë³‘ëª© í˜„ìƒì„ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•˜ê³  ë¶„ì„í•˜ì—¬ ë¬¸ì œë¥¼ ë¹ ë¥´ê²Œ íŒŒì•…í•˜ê³  í•´ê²°í•  ìˆ˜ ìˆê²Œ ë„ì™€ì¤ë‹ˆë‹¤.

ì´ ë¬¸ì„œì—ì„œëŠ” Sentryê°€ ë¬´ì—‡ì¸ì§€, ì™œ í•„ìš”í•œì§€, ê·¸ë¦¬ê³  ì‹¤ì œ í”„ë¡œì íŠ¸ì— ì–´ë–»ê²Œ ì ìš©í•˜ëŠ”ì§€ ì•Œì•„ë´…ë‹ˆë‹¤.

---

## ë°°ê²½

### ì™œ í•„ìš”í•œê°€?

ì „í†µì ì¸ ê°œë°œ ë°©ì‹ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤:

**ì‚¬ìš©ìê°€ ê²ªëŠ” ë¬¸ì œë¥¼ ê°œë°œìê°€ ëª¨ë¥¸ë‹¤**

- ì‚¬ìš©ì ë¸Œë¼ìš°ì €ì—ì„œ ë°œìƒí•œ ì—ëŸ¬ëŠ” ê°œë°œìì—ê²Œ ì „ë‹¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤
- ì½˜ì†” ë¡œê·¸ëŠ” ì‚¬ìš©ìì˜ ë¡œì»¬ í™˜ê²½ì—ë§Œ ë‚¨ê³  ì‚¬ë¼ì§‘ë‹ˆë‹¤
- ë²„ê·¸ ë¦¬í¬íŠ¸ëŠ” ì¬í˜„ì´ ì–´ë µê³  ì •ë³´ê°€ ë¶ˆì™„ì „í•©ë‹ˆë‹¤

**ì—ëŸ¬ ë””ë²„ê¹…ì´ ì–´ë µë‹¤**

- ì–´ë–¤ í™˜ê²½ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤
- ì—ëŸ¬ ë°œìƒ ì§ì „ì˜ ì‚¬ìš©ì í–‰ë™ì„ íŒŒì•…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
- ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ë§Œìœ¼ë¡œëŠ” ì›ì¸ì„ ì°¾ê¸° í˜ë“­ë‹ˆë‹¤

**ì„±ëŠ¥ ë¬¸ì œë¥¼ ê°ì§€í•˜ê¸° ì–´ë µë‹¤**

- íŠ¹ì • API í˜¸ì¶œì´ ëŠë¦°ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤
- ì–´ë–¤ í˜ì´ì§€ì—ì„œ ë Œë”ë§ì´ ì§€ì—°ë˜ëŠ”ì§€ ëª¨ë¦…ë‹ˆë‹¤
- ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì„ ì¸¡ì •í•  ë°©ë²•ì´ ì—†ìŠµë‹ˆë‹¤

### ë“±ì¥ ì´ì „ì˜ ë°©ì‹

Sentryê°€ ë“±ì¥í•˜ê¸° ì „ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤:

```javascript
// âŒ ê¸°ì¡´ ë°©ì‹: ìˆ˜ë™ ì—ëŸ¬ ì²˜ë¦¬
window.onerror = function(message, source, lineno, colno, error) {
  // ì—ëŸ¬ ì •ë³´ë¥¼ ì„œë²„ë¡œ ì „ì†¡
  fetch('/api/log-error', {
    method: 'POST',
    body: JSON.stringify({
      message,
      source,
      lineno,
      colno,
      stack: error?.stack
    })
  });
};
```

ì´ ë°©ì‹ì˜ ë¬¸ì œì :

- ëª¨ë“  ì—ëŸ¬ ì²˜ë¦¬ ë¡œì§ì„ ì§ì ‘ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤
- ì—ëŸ¬ ê·¸ë£¹í•‘, ì¤‘ë³µ ì œê±°, ì•Œë¦¼ ë“±ì˜ ê¸°ëŠ¥ì´ ì—†ìŠµë‹ˆë‹¤
- ì„±ëŠ¥ ë°ì´í„°ëŠ” ë³„ë„ë¡œ ìˆ˜ì§‘í•´ì•¼ í•©ë‹ˆë‹¤
- ì—ëŸ¬ ë¶„ì„ ë„êµ¬ê°€ ì—†ì–´ ì›ì‹œ ë°ì´í„°ë§Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

---

## ë™ì‘ ì›ë¦¬

### í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜

SentryëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ìœ¼ë¡œ ì—ëŸ¬ë¥¼ ìˆ˜ì§‘í•˜ê³  ì²˜ë¦¬í•©ë‹ˆë‹¤:

1. **SDK ì´ˆê¸°í™”**: ì• í”Œë¦¬ì¼€ì´ì…˜ì— Sentry SDKë¥¼ ì„¤ì¹˜í•˜ê³  ì„¤ì •í•©ë‹ˆë‹¤
2. **ìë™ ê³„ì¸¡**: SDKê°€ ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ê³  ì—ëŸ¬ë¥¼ ìë™ìœ¼ë¡œ ìº¡ì²˜í•©ë‹ˆë‹¤
3. **ë°ì´í„° ìˆ˜ì§‘**: ì—ëŸ¬ ë°œìƒ ì‹œ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤, ì‚¬ìš©ì ì •ë³´, ë¸Œë¼ìš°ì € í™˜ê²½ ë“±ì„ ìˆ˜ì§‘í•©ë‹ˆë‹¤
4. **ì „ì†¡**: ìˆ˜ì§‘ëœ ë°ì´í„°ë¥¼ Sentry ì„œë²„ë¡œ ì „ì†¡í•©ë‹ˆë‹¤
5. **ë¶„ì„ ë° ê·¸ë£¹í•‘**: ìœ ì‚¬í•œ ì—ëŸ¬ë¥¼ ìë™ìœ¼ë¡œ ê·¸ë£¹í™”í•˜ê³  íŒ¨í„´ì„ ë¶„ì„í•©ë‹ˆë‹¤
6. **ì•Œë¦¼**: ìƒˆë¡œìš´ ì—ëŸ¬ë‚˜ ì¤‘ìš”í•œ ë¬¸ì œê°€ ë°œìƒí•˜ë©´ íŒ€ì— ì•Œë¦½ë‹ˆë‹¤

### ì‹œê°ì  íë¦„

```
[ì‚¬ìš©ì ë¸Œë¼ìš°ì €]
      â†“
   ì—ëŸ¬ ë°œìƒ
      â†“
[Sentry SDK ìº¡ì²˜]
      â†“
   ì»¨í…ìŠ¤íŠ¸ ìˆ˜ì§‘
   - ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤
   - ì‚¬ìš©ì ì •ë³´
   - ë¸Œë ˆë“œí¬ëŸ¼ (í–‰ë™ ì¶”ì )
   - í™˜ê²½ ì •ë³´
      â†“
[Sentry ì„œë²„]
      â†“
   ì—ëŸ¬ ê·¸ë£¹í•‘
      â†“
   ëŒ€ì‹œë³´ë“œ í‘œì‹œ
      â†“
[ê°œë°œì ì•Œë¦¼]
   - ì´ë©”ì¼
   - Slack
   - Jira ì´ìŠˆ ìƒì„±
```

### ì½”ë“œë¡œ ì´í•´í•˜ê¸°

```javascript
// Sentryê°€ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ì˜ˆì œ
import * as Sentry from "@sentry/react";

// 1. ì´ˆê¸°í™”
Sentry.init({
  dsn: "https://your-dsn@sentry.io/project-id",
  environment: "production",
  tracesSampleRate: 1.0, // ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
});

// 2. ìë™ ì—ëŸ¬ ìº¡ì²˜ - ë³„ë„ ì½”ë“œ ì—†ì´ ì‘ë™
function UserProfile({ userId }) {
  // ì´ ì—ëŸ¬ëŠ” ìë™ìœ¼ë¡œ Sentryì— ì „ì†¡ë©ë‹ˆë‹¤
  const user = fetchUser(userId); // null ì²´í¬ ì—†ì´ ì ‘ê·¼
  return <div>{user.name}</div>; // TypeError ë°œìƒ ì‹œ ìë™ ìº¡ì²˜
}

// 3. ìˆ˜ë™ ì—ëŸ¬ ìº¡ì²˜ (í•„ìš” ì‹œ)
try {
  processPayment(amount);
} catch (error) {
  Sentry.captureException(error, {
    tags: {
      payment_method: "credit_card",
      amount: amount
    }
  });
  throw error;
}
```

---

## ì£¼ìš” ê¸°ëŠ¥

### ê¸°ëŠ¥ 1: ì—ëŸ¬ ëª¨ë‹ˆí„°ë§ (Error Monitoring)

ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°œìƒí•˜ëŠ” ëª¨ë“  ì˜ˆì™¸ë¥¼ ìë™ìœ¼ë¡œ ì¶”ì í•©ë‹ˆë‹¤.

**ìë™ ìˆ˜ì§‘ ì •ë³´:**

- **ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤**: ì—ëŸ¬ê°€ ë°œìƒí•œ ì •í™•í•œ ìœ„ì¹˜
- **ì†ŒìŠ¤ë§µ ì§€ì›**: ë¹Œë“œëœ ì½”ë“œë¥¼ ì›ë³¸ ì½”ë“œë¡œ ë³€í™˜
- **ì—ëŸ¬ ê·¸ë£¹í•‘**: ë™ì¼í•œ ê·¼ë³¸ ì›ì¸ì„ ê°€ì§„ ì—ëŸ¬ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ìŒ
- **ì˜í–¥ë„ ì¸¡ì •**: ì–¼ë§ˆë‚˜ ë§ì€ ì‚¬ìš©ìê°€ ì˜í–¥ì„ ë°›ì•˜ëŠ”ì§€

```javascript
// ì˜ˆì‹œ: React ì»´í¬ë„ŒíŠ¸ ì—ëŸ¬
function ProductList() {
  const products = useProducts();

  // productsê°€ undefinedì¼ ë•Œ ì—ëŸ¬ ë°œìƒ
  return products.map(product => (
    <ProductCard key={product.id} {...product} />
  ));
}

// Sentryê°€ ìë™ìœ¼ë¡œ ìº¡ì²˜í•˜ëŠ” ì •ë³´:
// - TypeError: Cannot read property 'map' of undefined
// - ë°œìƒ ìœ„ì¹˜: ProductList.jsx:4
// - ì˜í–¥ë°›ì€ ì‚¬ìš©ì ìˆ˜: 127ëª…
// - ì²« ë°œìƒ ì‹œê°„: 2024-01-15 14:23
```

### ê¸°ëŠ¥ 2: ë¸Œë ˆë“œí¬ëŸ¼ (Breadcrumbs)

ì—ëŸ¬ ë°œìƒ ì§ì „ì˜ ì‚¬ìš©ì í–‰ë™ì„ íƒ€ì„ë¼ì¸ìœ¼ë¡œ ê¸°ë¡í•©ë‹ˆë‹¤.

```javascript
// ìë™ìœ¼ë¡œ ê¸°ë¡ë˜ëŠ” ë¸Œë ˆë“œí¬ëŸ¼:
// 1. [14:20:15] User clicked "Add to Cart" button
// 2. [14:20:16] API call: POST /api/cart/add
// 3. [14:20:17] Navigation: /cart â†’ /checkout
// 4. [14:20:18] User clicked "Complete Purchase"
// 5. [14:20:19] âŒ Error: Payment processing failed

// ìˆ˜ë™ìœ¼ë¡œ ë¸Œë ˆë“œí¬ëŸ¼ ì¶”ê°€
Sentry.addBreadcrumb({
  category: 'payment',
  message: 'User selected payment method: Credit Card',
  level: 'info'
});
```

ì´ ê¸°ëŠ¥ìœ¼ë¡œ ì—ëŸ¬ ì¬í˜„ì´ ì‰¬ì›Œì§‘ë‹ˆë‹¤.

### ê¸°ëŠ¥ 3: ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ (Performance Monitoring)

ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ì„ ì¸¡ì •í•˜ê³  ë³‘ëª© ì§€ì ì„ ì°¾ìŠµë‹ˆë‹¤.

```javascript
// ìë™ ì„±ëŠ¥ ì¶”ì 
Sentry.init({
  dsn: "...",
  tracesSampleRate: 1.0, // 100% íŠ¸ëœì­ì…˜ ì¶”ì 
  integrations: [
    new Sentry.BrowserTracing({
      // í˜ì´ì§€ ë¡œë“œ ì‹œê°„
      // API í˜¸ì¶œ ì‹œê°„
      // ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì‹œê°„
    }),
  ],
});

// ìˆ˜ë™ ì„±ëŠ¥ ì¸¡ì •
const transaction = Sentry.startTransaction({
  name: "processCheckout",
  op: "checkout"
});

const span = transaction.startChild({
  op: "payment",
  description: "Process payment"
});

await processPayment();
span.finish();
transaction.finish();

// Sentry ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸ ê°€ëŠ¥:
// - processCheckout í‰ê·  ì‹œê°„: 2.3ì´ˆ
// - payment ë‹¨ê³„ ì‹œê°„: 1.8ì´ˆ (ë³‘ëª©!)
// - ê°€ì¥ ëŠë¦° íŠ¸ëœì­ì…˜ ìƒìœ„ 10ê°œ
```

### ê¸°ëŠ¥ 4: ë¦´ë¦¬ìŠ¤ ì¶”ì  (Release Tracking)

ë°°í¬ ë²„ì „ë³„ë¡œ ì—ëŸ¬ë¥¼ ì¶”ì í•˜ì—¬ íšŒê·€ ë²„ê·¸ë¥¼ ë¹ ë¥´ê²Œ ê°ì§€í•©ë‹ˆë‹¤.

```javascript
// ë¹Œë“œ ì‹œ ë¦´ë¦¬ìŠ¤ ì •ë³´ ì„¤ì •
Sentry.init({
  dsn: "...",
  release: "my-app@1.2.0",
  environment: "production"
});

// ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸:
// - v1.2.0 ë°°í¬ í›„ ìƒˆë¡œìš´ ì—ëŸ¬ 3ê±´ ë°œê²¬
// - v1.1.0ì—ì„œëŠ” ë°œìƒí•˜ì§€ ì•Šì•˜ë˜ ì—ëŸ¬
// - ì˜í–¥ë°›ì€ ì‚¬ìš©ì: 45ëª…
// â†’ ì¦‰ì‹œ ë¡¤ë°± ë˜ëŠ” í•«í”½ìŠ¤ ë°°í¬ ê²°ì •
```

---

## ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€

### ì‚¬ë¡€ 1: React ì• í”Œë¦¬ì¼€ì´ì…˜ì— Sentry í†µí•©

í”„ë¡ íŠ¸ì—”ë“œ React í”„ë¡œì íŠ¸ì— Sentryë¥¼ ì ìš©í•˜ëŠ” ì „í˜•ì ì¸ ì‚¬ë¡€ì…ë‹ˆë‹¤.

```javascript
// 1. ì„¤ì¹˜
// npm install @sentry/react

// 2. ì´ˆê¸°í™” (src/index.js ë˜ëŠ” main.tsx)
import React from "react";
import ReactDOM from "react-dom/client";
import * as Sentry from "@sentry/react";
import App from "./App";

Sentry.init({
  dsn: process.env.REACT_APP_SENTRY_DSN,
  environment: process.env.NODE_ENV,

  // ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì„¤ì •
  integrations: [
    new Sentry.BrowserTracing({
      // React Router í†µí•©
      routingInstrumentation: Sentry.reactRouterV6Instrumentation(
        React.useEffect,
        useLocation,
        useNavigationType,
        createRoutesFromChildren,
        matchRoutes
      ),
    }),
    new Sentry.Replay(), // ì„¸ì…˜ ë¦¬í”Œë ˆì´
  ],

  tracesSampleRate: 0.1, // 10%ì˜ íŠ¸ëœì­ì…˜ ì¶”ì 
  replaysSessionSampleRate: 0.1, // 10%ì˜ ì„¸ì…˜ ë…¹í™”
  replaysOnErrorSampleRate: 1.0, // ì—ëŸ¬ ë°œìƒ ì‹œ 100% ë…¹í™”

  // ê°œë°œ í™˜ê²½ì—ì„œëŠ” ë¹„í™œì„±í™”
  enabled: process.env.NODE_ENV === 'production',

  // ë¯¼ê°í•œ ì •ë³´ í•„í„°ë§
  beforeSend(event) {
    // ê°œì¸ì •ë³´ê°€ í¬í•¨ëœ ì—ëŸ¬ëŠ” ì „ì†¡í•˜ì§€ ì•ŠìŒ
    if (event.user?.email) {
      delete event.user.email;
    }
    return event;
  }
});

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```

### ì‚¬ë¡€ 2: Next.js ì• í”Œë¦¬ì¼€ì´ì…˜ (App Router)

Next.js 14 App Routerì—ì„œ Sentryë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

```javascript
// ì„¤ì¹˜
// npm install @sentry/nextjs

// sentry.client.config.js
import * as Sentry from "@sentry/nextjs";

Sentry.init({
  dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,
  tracesSampleRate: 1.0,
  debug: false,
  replaysOnErrorSampleRate: 1.0,
  replaysSessionSampleRate: 0.1,

  integrations: [
    new Sentry.Replay({
      maskAllText: true,
      blockAllMedia: true,
    }),
  ],
});

// sentry.server.config.js
import * as Sentry from "@sentry/nextjs";

Sentry.init({
  dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,
  tracesSampleRate: 1.0,
  debug: false,
});

// app/error.tsx - ì—ëŸ¬ ë°”ìš´ë”ë¦¬
'use client';

import * as Sentry from '@sentry/nextjs';
import { useEffect } from 'react';

export default function Error({
  error,
  reset,
}: {
  error: Error & { digest?: string };
  reset: () => void;
}) {
  useEffect(() => {
    Sentry.captureException(error);
  }, [error]);

  return (
    <div>
      <h2>ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤</h2>
      <button onClick={() => reset()}>ë‹¤ì‹œ ì‹œë„</button>
    </div>
  );
}
```

### ì‚¬ë¡€ 3: API í˜¸ì¶œ ì—ëŸ¬ ì¶”ì 

ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì‹¤íŒ¨ë¥¼ ìƒì„¸í•˜ê²Œ ì¶”ì í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

```javascript
// API í´ë¼ì´ì–¸íŠ¸ì— Sentry í†µí•©
import * as Sentry from "@sentry/react";

async function apiRequest(endpoint, options) {
  const transaction = Sentry.startTransaction({
    name: `API ${options.method} ${endpoint}`,
    op: "http.client"
  });

  try {
    const response = await fetch(`/api${endpoint}`, {
      ...options,
      headers: {
        ...options.headers,
        'sentry-trace': transaction.toTraceparent(),
      }
    });

    if (!response.ok) {
      // HTTP ì—ëŸ¬ë¥¼ Sentryì— ê¸°ë¡
      Sentry.captureException(
        new Error(`API Error: ${response.status}`),
        {
          tags: {
            endpoint,
            status_code: response.status,
            method: options.method
          },
          contexts: {
            response: {
              status: response.status,
              statusText: response.statusText,
              url: response.url
            }
          }
        }
      );
    }

    transaction.setStatus('ok');
    return await response.json();

  } catch (error) {
    transaction.setStatus('internal_error');

    // ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ë¥¼ Sentryì— ê¸°ë¡
    Sentry.captureException(error, {
      tags: {
        endpoint,
        error_type: 'network_error'
      }
    });

    throw error;
  } finally {
    transaction.finish();
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
try {
  const data = await apiRequest('/users/123', { method: 'GET' });
  console.log(data);
} catch (error) {
  console.error('Failed to fetch user:', error);
}

// Sentryì—ì„œ í™•ì¸ ê°€ëŠ¥:
// - API GET /users/123: í‰ê·  ì‘ë‹µ ì‹œê°„ 245ms
// - ì‹¤íŒ¨ìœ¨: 2.3% (ì£¼ë¡œ 404 ì—ëŸ¬)
// - ê°€ì¥ ëŠë¦° ìš”ì²­: 1.2ì´ˆ (íƒ€ì„ì•„ì›ƒ ê²½ê³„)
```

---

## ì¥ì ê³¼ í•œê³„

### ì¥ì 

- âœ… **ìë™ ì—ëŸ¬ ìˆ˜ì§‘**: ì½”ë“œ ìˆ˜ì • ì—†ì´ ëŒ€ë¶€ë¶„ì˜ ì—ëŸ¬ë¥¼ ìë™ìœ¼ë¡œ ìº¡ì²˜í•©ë‹ˆë‹¤
- âœ… **í’ë¶€í•œ ì»¨í…ìŠ¤íŠ¸**: ì—ëŸ¬ ë°œìƒ ì‹œ ì‚¬ìš©ì í–‰ë™, í™˜ê²½ ì •ë³´ë¥¼ í•¨ê»˜ ìˆ˜ì§‘í•©ë‹ˆë‹¤
- âœ… **ìŠ¤ë§ˆíŠ¸ ê·¸ë£¹í•‘**: ìœ ì‚¬í•œ ì—ëŸ¬ë¥¼ ìë™ìœ¼ë¡œ ë¬¶ì–´ì„œ ë…¸ì´ì¦ˆë¥¼ ì¤„ì…ë‹ˆë‹¤
- âœ… **ë¦´ë¦¬ìŠ¤ ì¶”ì **: ë²„ì „ë³„ ì—ëŸ¬ë¥¼ ì¶”ì í•˜ì—¬ íšŒê·€ ë²„ê·¸ë¥¼ ë¹ ë¥´ê²Œ ë°œê²¬í•©ë‹ˆë‹¤
- âœ… **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: ì—ëŸ¬ë¿ë§Œ ì•„ë‹ˆë¼ ì„±ëŠ¥ ë³‘ëª©ë„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
- âœ… **ë‹¤ì–‘í•œ í†µí•©**: Slack, Jira, GitHub ë“±ê³¼ ì‰½ê²Œ ì—°ë™ë©ë‹ˆë‹¤
- âœ… **ì„¸ì…˜ ë¦¬í”Œë ˆì´**: ì—ëŸ¬ ë°œìƒ ìˆœê°„ì˜ ì‚¬ìš©ì í™”ë©´ì„ ë…¹í™”í•˜ì—¬ ì¬í˜„ì´ ì‰½ìŠµë‹ˆë‹¤

### í•œê³„

- âš ï¸ **ë¹„ìš©**: ë¬´ë£Œ í”Œëœì€ ì´ë²¤íŠ¸ ìˆ˜ ì œí•œì´ ìˆê³ , ëŒ€ê·œëª¨ ì„œë¹„ìŠ¤ëŠ” ë¹„ìš©ì´ ë†’ìŠµë‹ˆë‹¤
- âš ï¸ **ê°œì¸ì •ë³´ ì²˜ë¦¬**: ì‚¬ìš©ì ë°ì´í„° ìˆ˜ì§‘ ì‹œ GDPR ë“± ê·œì •ì„ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤
- âš ï¸ **ì„±ëŠ¥ ì˜¤ë²„í—¤ë“œ**: SDKê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ì— ë¯¸ë¯¸í•˜ì§€ë§Œ ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
- âš ï¸ **ì†ŒìŠ¤ë§µ ê´€ë¦¬**: í”„ë¡œë•ì…˜ ë¹Œë“œì—ì„œ ì •í™•í•œ ì—ëŸ¬ ìœ„ì¹˜ë¥¼ í‘œì‹œí•˜ë ¤ë©´ ì†ŒìŠ¤ë§µ ì—…ë¡œë“œê°€ í•„ìš”í•©ë‹ˆë‹¤
- âš ï¸ **ë…¸ì´ì¦ˆ**: ìƒ˜í”Œë§ ì„¤ì •ì„ ì˜ëª»í•˜ë©´ ë„ˆë¬´ ë§ì€ ì´ë²¤íŠ¸ê°€ ìˆ˜ì§‘ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤

### íŠ¸ë ˆì´ë“œì˜¤í”„

**Sentryë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°:**

- í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‚¬ìš©ìê°€ ê²ªëŠ” ë¬¸ì œë¥¼ íŒŒì•…í•˜ê³  ì‹¶ì„ ë•Œ
- íŒ€ì´ ì—¬ëŸ¬ ëª…ì´ê³  ì²´ê³„ì ì¸ ì—ëŸ¬ ê´€ë¦¬ê°€ í•„ìš”í•  ë•Œ
- ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ì´ í•„ìš”í•œ ë³µì¡í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì¼ ë•Œ
- ë¦´ë¦¬ìŠ¤ í’ˆì§ˆì„ ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ì¸¡ì •í•˜ê³  ì‹¶ì„ ë•Œ

**Sentryê°€ ë¶ˆí•„ìš”í•œ ê²½ìš°:**

- ì‘ì€ ê°œì¸ í”„ë¡œì íŠ¸ë‚˜ í”„ë¡œí† íƒ€ì…
- ë¡œì»¬ ê°œë°œ í™˜ê²½ë§Œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°
- ì´ë²¤íŠ¸ ìˆ˜ê°€ ë§ì•„ì„œ ë¹„ìš©ì´ ë¶€ë‹´ë˜ëŠ” ê²½ìš° (ìì²´ í˜¸ìŠ¤íŒ… ê³ ë ¤)

---

## ì‹œì‘í•˜ê¸°

### 1ë‹¨ê³„: Sentry ê³„ì • ìƒì„±

1. [sentry.io](https://sentry.io)ì— ì ‘ì†í•©ë‹ˆë‹¤
2. ë¬´ë£Œ ê³„ì •ì„ ìƒì„±í•©ë‹ˆë‹¤ (ì›” 5,000 ì´ë²¤íŠ¸ê¹Œì§€ ë¬´ë£Œ)
3. ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê³  í”Œë«í¼ì„ ì„ íƒí•©ë‹ˆë‹¤ (React, Next.js ë“±)
4. DSN(Data Source Name)ì„ ë³µì‚¬í•©ë‹ˆë‹¤

### 2ë‹¨ê³„: SDK ì„¤ì¹˜

```bash
# React
npm install @sentry/react

# Next.js
npm install @sentry/nextjs

# Vanilla JavaScript
npm install @sentry/browser
```

### 3ë‹¨ê³„: ê¸°ë³¸ ì„¤ì •

```javascript
// React ì˜ˆì‹œ
import * as Sentry from "@sentry/react";

Sentry.init({
  dsn: "YOUR_DSN_HERE",
  environment: "production",
  tracesSampleRate: 1.0,
});
```

### 4ë‹¨ê³„: í…ŒìŠ¤íŠ¸

```javascript
// í…ŒìŠ¤íŠ¸ ì—ëŸ¬ ë°œìƒ
function TestButton() {
  return (
    <button onClick={() => {
      throw new Error("Sentry í…ŒìŠ¤íŠ¸ ì—ëŸ¬!");
    }}>
      ì—ëŸ¬ ë°œìƒ
    </button>
  );
}
```

ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ Sentry ëŒ€ì‹œë³´ë“œì— ì—ëŸ¬ê°€ í‘œì‹œë©ë‹ˆë‹¤.

### 5ë‹¨ê³„: í”„ë¡œë•ì…˜ ìµœì í™”

```javascript
Sentry.init({
  dsn: process.env.REACT_APP_SENTRY_DSN,
  environment: process.env.NODE_ENV,

  // ê°œë°œ í™˜ê²½ì—ì„œëŠ” ë¹„í™œì„±í™”
  enabled: process.env.NODE_ENV === 'production',

  // ìƒ˜í”Œë§ ë¹„ìœ¨ ì¡°ì • (ë¹„ìš© ì ˆê°)
  tracesSampleRate: 0.1, // 10%ë§Œ ì¶”ì 

  // ë¯¼ê°í•œ ë°ì´í„° í•„í„°ë§
  beforeSend(event, hint) {
    // PII ì œê±°
    if (event.request?.cookies) {
      delete event.request.cookies;
    }
    return event;
  },

  // íŠ¹ì • ì—ëŸ¬ ë¬´ì‹œ
  ignoreErrors: [
    'ResizeObserver loop limit exceeded',
    'Non-Error promise rejection captured',
  ],
});
```

---

## ê´€ë ¨ ê°œë…

### ìœ ì‚¬ ë„êµ¬

- **LogRocket**: ì„¸ì…˜ ë¦¬í”Œë ˆì´ì— ë” íŠ¹í™”ë˜ì–´ ìˆìœ¼ë©°, Sentryì™€ ìœ ì‚¬í•œ ì—ëŸ¬ ì¶”ì  ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤
- **Rollbar**: Sentryì™€ ìœ ì‚¬í•œ ì—ëŸ¬ ëª¨ë‹ˆí„°ë§ ë„êµ¬ë¡œ, ë” ê°„ë‹¨í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤
- **Bugsnag**: ëª¨ë°”ì¼ ì•± ì—ëŸ¬ ì¶”ì ì— ê°•ì ì´ ìˆëŠ” ë„êµ¬ì…ë‹ˆë‹¤

### ëŒ€ì•ˆ

**ìì²´ êµ¬ì¶•**: ì‘ì€ ê·œëª¨ë¼ë©´ AWS CloudWatch, Google Analytics ë“±ìœ¼ë¡œ ì§ì ‘ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

- **ì¥ì **: ë¹„ìš© ì ˆê°, ì™„ì „í•œ ì œì–´
- **ë‹¨ì **: ê°œë°œ/ìœ ì§€ë³´ìˆ˜ ì‹œê°„ í•„ìš”, ê¸°ëŠ¥ ì œí•œì 

**ì˜¤í”ˆì†ŒìŠ¤ ìì²´ í˜¸ìŠ¤íŒ…**: SentryëŠ” ì˜¤í”ˆì†ŒìŠ¤ì´ë¯€ë¡œ ì§ì ‘ ì„œë²„ì— ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

- **ì¥ì **: ë°ì´í„° ì™„ì „ í†µì œ, ì´ë²¤íŠ¸ ìˆ˜ ì œí•œ ì—†ìŒ
- **ë‹¨ì **: ì„œë²„ ê´€ë¦¬ í•„ìš”, ì—…ë°ì´íŠ¸ ì§ì ‘ ì²˜ë¦¬

---

## ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### 1. í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬

```javascript
// .env.development
REACT_APP_SENTRY_DSN=your-dsn-here
REACT_APP_SENTRY_ENVIRONMENT=development
REACT_APP_SENTRY_ENABLED=false

// .env.production
REACT_APP_SENTRY_DSN=your-dsn-here
REACT_APP_SENTRY_ENVIRONMENT=production
REACT_APP_SENTRY_ENABLED=true
```

### 2. ì‚¬ìš©ì ì»¨í…ìŠ¤íŠ¸ ì¶”ê°€

```javascript
// ë¡œê·¸ì¸ í›„ ì‚¬ìš©ì ì •ë³´ ì„¤ì •
Sentry.setUser({
  id: user.id,
  username: user.username,
  // ì´ë©”ì¼ì€ ê°œì¸ì •ë³´ì´ë¯€ë¡œ ì£¼ì˜
  // email: user.email,
});

// ë¡œê·¸ì•„ì›ƒ ì‹œ ì‚¬ìš©ì ì •ë³´ ì œê±°
Sentry.setUser(null);
```

### 3. ì»¤ìŠ¤í…€ íƒœê·¸ í™œìš©

```javascript
// ì—ëŸ¬ë¥¼ ì¹´í…Œê³ ë¦¬ë³„ë¡œ ë¶„ë¥˜
Sentry.setTag("payment_provider", "stripe");
Sentry.setTag("feature", "checkout");

// ì—ëŸ¬ ë°œìƒ
try {
  await processPayment();
} catch (error) {
  Sentry.captureException(error, {
    tags: {
      payment_amount: amount,
      currency: "USD"
    }
  });
}

// Sentryì—ì„œ íƒœê·¸ë³„ë¡œ í•„í„°ë§ ê°€ëŠ¥:
// - payment_provider: stripeì¸ ì—ëŸ¬ë§Œ ë³´ê¸°
// - feature: checkoutì¸ ì—ëŸ¬ë§Œ ë³´ê¸°
```

### 4. ì•Œë¦¼ ê·œì¹™ ì„¤ì •

Sentry ëŒ€ì‹œë³´ë“œì—ì„œ ì•Œë¦¼ ê·œì¹™ì„ ì„¤ì •í•˜ì„¸ìš”:

- **ìƒˆë¡œìš´ ì—ëŸ¬ ë°œìƒ**: Slackìœ¼ë¡œ ì¦‰ì‹œ ì•Œë¦¼
- **ì—ëŸ¬ ë¹ˆë„ ì¦ê°€**: 1ë¶„ì— 10ê±´ ì´ìƒ â†’ ê¸´ê¸‰ ì•Œë¦¼
- **ë¦´ë¦¬ìŠ¤ ì—ëŸ¬**: ìƒˆ ë²„ì „ì—ì„œ ì—ëŸ¬ ë°œìƒ â†’ íŒ€ ì „ì²´ ì•Œë¦¼
- **íŠ¹ì • íƒœê·¸**: payment ê´€ë ¨ ì—ëŸ¬ â†’ ê²°ì œíŒ€ì—ë§Œ ì•Œë¦¼

---

## ë¬¸ì œ í•´ê²°

### ì¦ìƒ 1: Sentryì— ì—ëŸ¬ê°€ ì „ì†¡ë˜ì§€ ì•ŠìŒ

**ì›ì¸:**

- DSNì´ ì˜ëª» ì„¤ì •ë¨
- `enabled: false`ë¡œ ì„¤ì •ë¨
- ë„¤íŠ¸ì›Œí¬ ì°¨ë‹¨ (ë°©í™”ë²½, ê´‘ê³  ì°¨ë‹¨ê¸°)

**í•´ê²° ë°©ë²•:**

```javascript
// 1. DSN í™•ì¸
console.log(Sentry.getCurrentHub().getClient()?.getDsn());

// 2. í…ŒìŠ¤íŠ¸ ì—ëŸ¬ ë°œìƒ
Sentry.captureException(new Error("Test error"));

// 3. ë¸Œë¼ìš°ì € ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ í™•ì¸
// sentry.ioë¡œ ìš”ì²­ì´ ì „ì†¡ë˜ëŠ”ì§€ í™•ì¸

// 4. ê°œë°œ í™˜ê²½ì—ì„œë„ í™œì„±í™” (í…ŒìŠ¤íŠ¸ìš©)
Sentry.init({
  dsn: "...",
  enabled: true, // ê°œë°œ ì¤‘ì—ë„ í™œì„±í™”
  debug: true,   // ë””ë²„ê·¸ ë¡œê·¸ ì¶œë ¥
});
```

### ì¦ìƒ 2: ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ê°€ ë‚œë…í™”ë˜ì–´ ì½ì„ ìˆ˜ ì—†ìŒ

**ì›ì¸:**

ì†ŒìŠ¤ë§µì´ ì—…ë¡œë“œë˜ì§€ ì•Šì•„ì„œ ë¹Œë“œëœ ì½”ë“œì˜ ìœ„ì¹˜ë§Œ í‘œì‹œë©ë‹ˆë‹¤.

**í•´ê²° ë°©ë²•:**

```bash
# Next.jsëŠ” ìë™ìœ¼ë¡œ ì²˜ë¦¬
# sentry.properties íŒŒì¼ ìƒì„±
org=your-org
project=your-project

# ë¹Œë“œ ì‹œ ì†ŒìŠ¤ë§µ ì—…ë¡œë“œ
npx @sentry/cli releases files <release> upload-sourcemaps ./build
```

### ì¦ìƒ 3: ë„ˆë¬´ ë§ì€ ì´ë²¤íŠ¸ë¡œ í• ë‹¹ëŸ‰ ì´ˆê³¼

**í•´ê²° ë°©ë²•:**

```javascript
// 1. ìƒ˜í”Œë§ ë¹„ìœ¨ ì¡°ì •
Sentry.init({
  tracesSampleRate: 0.1, // 10%ë§Œ ì¶”ì 
  replaysSessionSampleRate: 0.1,
});

// 2. ë¶ˆí•„ìš”í•œ ì—ëŸ¬ ë¬´ì‹œ
ignoreErrors: [
  // ë¸Œë¼ìš°ì € í™•ì¥ í”„ë¡œê·¸ë¨ ì—ëŸ¬
  'top.GLOBALS',
  // íƒ€ì‚¬ ìŠ¤í¬ë¦½íŠ¸ ì—ëŸ¬
  /^Script error\.?$/,
  // ê°œë°œ ì „ìš© ì—ëŸ¬
  'ResizeObserver loop limit exceeded',
],

// 3. URL ê¸°ë°˜ í•„í„°ë§
beforeSend(event) {
  // ê´€ë¦¬ì í˜ì´ì§€ ì—ëŸ¬ë§Œ ì „ì†¡
  if (!event.request?.url?.includes('/admin/')) {
    return null;
  }
  return event;
}
```

---

## ë” ì•Œì•„ë³´ê¸°

**ê³µì‹ ë¬¸ì„œ:**

- [Sentry ê³µì‹ ë¬¸ì„œ](https://docs.sentry.io/)
- [React SDK ê°€ì´ë“œ](https://docs.sentry.io/platforms/javascript/guides/react/)
- [Next.js SDK ê°€ì´ë“œ](https://docs.sentry.io/platforms/javascript/guides/nextjs/)

**ì‹¬í™” ì£¼ì œ:**

- [ì†ŒìŠ¤ë§µ ì—…ë¡œë“œ ìë™í™”](https://docs.sentry.io/platforms/javascript/sourcemaps/)
- [ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ê³ ê¸‰ ì„¤ì •](https://docs.sentry.io/product/performance/)
- [ì„¸ì…˜ ë¦¬í”Œë ˆì´ í™œìš©](https://docs.sentry.io/product/session-replay/)

**í†µí•© ê°€ì´ë“œ:**

- [Slack ì•Œë¦¼ ì„¤ì •](https://docs.sentry.io/product/integrations/notification-incidents/slack/)
- [Jira ì´ìŠˆ ìë™ ìƒì„±](https://docs.sentry.io/product/integrations/issue-tracking/jira/)
- [GitHub ì—°ë™](https://docs.sentry.io/product/integrations/source-code-mgmt/github/)

---

## ìš”ì•½

SentryëŠ” í”„ë¡œë•ì…˜ í™˜ê²½ì˜ ì—ëŸ¬ì™€ ì„±ëŠ¥ ë¬¸ì œë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶”ì í•˜ëŠ” í•„ìˆ˜ ë„êµ¬ì…ë‹ˆë‹¤.

**í•µì‹¬ ê°€ì¹˜:**

- ğŸ” ì‚¬ìš©ìê°€ ê²ªëŠ” ë¬¸ì œë¥¼ **ì‹¤ì‹œê°„ìœ¼ë¡œ íŒŒì•…**
- ğŸ¯ ì—ëŸ¬ì˜ **ê·¼ë³¸ ì›ì¸ì„ ë¹ ë¥´ê²Œ ë¶„ì„**
- ğŸ“Š ë¦´ë¦¬ìŠ¤ë³„ **í’ˆì§ˆì„ ë°ì´í„°ë¡œ ì¸¡ì •**
- ğŸš€ ì„±ëŠ¥ ë³‘ëª©ì„ **ìë™ìœ¼ë¡œ ê°ì§€**

**ì‹œì‘ ë°©ë²•:**

1. 5ë¶„ ì•ˆì— ì„¤ì¹˜ ë° ì„¤ì • ê°€ëŠ¥
2. ìë™ ì—ëŸ¬ ìº¡ì²˜ë¡œ ì¦‰ì‹œ íš¨ê³¼ í™•ì¸
3. ì ì§„ì ìœ¼ë¡œ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§, ì•Œë¦¼ ë“± ê³ ê¸‰ ê¸°ëŠ¥ ì¶”ê°€

í”„ë¡œë•ì…˜ì— ë°°í¬í•˜ëŠ” ëª¨ë“  í”„ë¡œì íŠ¸ì— Sentryë¥¼ ì ìš©í•˜ì—¬, ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ê³  ë¹ ë¥´ê²Œ ë¬¸ì œë¥¼ í•´ê²°í•˜ì„¸ìš”.
