import { JsonLd } from '~/app/_components'

<JsonLd
  metadata={{
    title: 'Edge Runtime ì´í•´í•˜ê¸°',
    description: 'Next.js Edge Runtimeì˜ ë™ì‘ ì›ë¦¬ì™€ ì‚¬ìš© ë°©ë²•ì„ ì™„ë²½ ì •ë¦¬í•©ë‹ˆë‹¤. Node.js Runtimeê³¼ì˜ ì°¨ì´ì , ì „ì—­ ë°°í¬, ë¹ ë¥¸ ì½œë“œ ìŠ¤íƒ€íŠ¸, Web Standard API, ê·¸ë¦¬ê³  ë¯¸ë“¤ì›¨ì–´ í™œìš©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.',
    date: '2026-02-16',
    slug: 'understanding-edge-runtime',
    tags: ['Next.js', 'Edge Runtime', 'Vercel', 'Middleware', 'Serverless', 'Performance', 'ê°€ì´ë“œ'],
  }}
/>

# Edge Runtime ì´í•´í•˜ê¸°

## ğŸ“‹ ë¬¸ì„œ ê°œìš”

Edge Runtimeì€ Next.jsì—ì„œ ì œê³µí•˜ëŠ” ê²½ëŸ‰í™”ëœ JavaScript ëŸ°íƒ€ì„ í™˜ê²½ìœ¼ë¡œ, ì „í†µì ì¸ Node.js ëŸ°íƒ€ì„ê³¼ ë‹¤ë¥¸ íŠ¹ì„±ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì´ ë¬¸ì„œì—ì„œëŠ” Edge Runtimeì˜ ë™ì‘ ì›ë¦¬, ì‚¬ìš© ì‹œê¸°, ê·¸ë¦¬ê³  ì‹¤ì œ í™œìš© ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.

**ì´ ë¬¸ì„œë¥¼ ì½ìœ¼ë©´ ë‹¤ìŒì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:**
- Edge Runtimeê³¼ Node.js Runtimeì˜ ì°¨ì´ë¥¼ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ì–¸ì œ Edge Runtimeì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ì§€ íŒë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- Edge Runtimeì˜ ì œì•½ì‚¬í•­ì„ íŒŒì•…í•˜ê³  ëŒ€ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ì‹¤ì œ í”„ë¡œì íŠ¸ì— Edge Runtimeì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

---

## ë°°ê²½

### ì™œ Edge Runtimeì´ í•„ìš”í•œê°€?

ì „í†µì ì¸ ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜(Node.js Runtime)ëŠ” ì½œë“œ ìŠ¤íƒ€íŠ¸ ì‹œê°„ì´ ê¸¸ê³ , ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë§ìŠµë‹ˆë‹¤. íŠ¹íˆ ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œ ë¬¸ì œê°€ ë©ë‹ˆë‹¤:

- **ì „ì—­ ì‚¬ìš©ì ëŒ€ì‘**: ë¯¸êµ­ì˜ ì„œë²„ì—ì„œ í•œêµ­ ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ë©´ ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì´ ë°œìƒí•©ë‹ˆë‹¤
- **ë¹ ë¥¸ ì‘ë‹µ í•„ìš”**: ì¸ì¦, ë¦¬ë‹¤ì´ë ‰ì…˜, A/B í…ŒìŠ¤íŒ… ë“±ì€ ë°€ë¦¬ì´ˆ ë‹¨ìœ„ì˜ ì‘ë‹µì´ ì¤‘ìš”í•©ë‹ˆë‹¤
- **ë†’ì€ íŠ¸ë˜í”½**: ë§ì€ ë™ì‹œ ìš”ì²­ì„ ì²˜ë¦¬í•´ì•¼ í•  ë•Œ ì„œë²„ ë¹„ìš©ì´ ê¸‰ì¦í•©ë‹ˆë‹¤

### Edge Runtime ë“±ì¥ ì´ì „ì˜ ë°©ì‹

```javascript
// Next.js 12 ì´ì „ - API Routes (Node.js Runtime)
export default async function handler(req, res) {
  // Node.js ì „ì²´ API ì‚¬ìš© ê°€ëŠ¥
  const fs = require('fs');
  const data = fs.readFileSync('./data.json');

  res.status(200).json({ data });
}
```

**ë¬¸ì œì :**
- ì½œë“œ ìŠ¤íƒ€íŠ¸: ì²« ìš”ì²­ ì‹œ 300-500ms ì†Œìš”
- ì§€ì—­ ì œí•œ: íŠ¹ì • ë¦¬ì „(ì˜ˆ: us-east-1)ì—ì„œë§Œ ì‹¤í–‰
- ë†’ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©: ê¸°ë³¸ 128MB ì´ìƒ

---

## ë™ì‘ ì›ë¦¬

### í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜

Edge Runtimeì€ Vercelì˜ Edge Networkì—ì„œ ì‹¤í–‰ë˜ëŠ” ê²½ëŸ‰ JavaScript ëŸ°íƒ€ì„ì…ë‹ˆë‹¤. V8 ì—”ì§„ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, Web Standard APIë§Œì„ ì§€ì›í•©ë‹ˆë‹¤.

#### 1. ì „ì—­ ë°°í¬ (Global Distribution)

```
ì‚¬ìš©ì ìš”ì²­ â†’ ê°€ì¥ ê°€ê¹Œìš´ Edge ë…¸ë“œì—ì„œ ì‹¤í–‰
```

**ê¸°ì¡´ ë°©ì‹ (Node.js Runtime)**
```
í•œêµ­ ì‚¬ìš©ì â†’ [ì¸í„°ë„· íš¡ë‹¨] â†’ ë¯¸êµ­ ì„œë²„ (300ms+)
```

**Edge Runtime ë°©ì‹**
```
í•œêµ­ ì‚¬ìš©ì â†’ ì„œìš¸ Edge (< 50ms)
ë¯¸êµ­ ì‚¬ìš©ì â†’ ë²„ì§€ë‹ˆì•„ Edge (< 50ms)
ì¼ë³¸ ì‚¬ìš©ì â†’ ë„ì¿„ Edge (< 50ms)
```

#### 2. ë¹ ë¥¸ ì‹œì‘ (Fast Cold Start)

Edge Runtimeì€ í•„ìš”í•œ ìµœì†Œí•œì˜ APIë§Œ ì œê³µí•˜ë¯€ë¡œ ì¦‰ì‹œ ì‹œì‘ë©ë‹ˆë‹¤:

```javascript
// Edge Runtime - ë°€ë¦¬ì´ˆ ë‹¨ìœ„ ì‹œì‘
export const runtime = 'edge';

export async function GET(request) {
  // ì¦‰ì‹œ ì‹¤í–‰ (< 10ms)
  return Response.json({ message: 'Fast response!' });
}
```

#### 3. ì œí•œëœ API (Lightweight)

Edge Runtimeì€ Web Standard APIë§Œ ì§€ì›í•©ë‹ˆë‹¤:

```javascript
// âœ… Edge Runtimeì—ì„œ ì‚¬ìš© ê°€ëŠ¥
- fetch()
- Request/Response
- Headers
- URL
- crypto
- Web Streams API

// âŒ Edge Runtimeì—ì„œ ì‚¬ìš© ë¶ˆê°€
- Node.js fs ëª¨ë“ˆ
- Node.js crypto ëª¨ë“ˆ
- Node.js path ëª¨ë“ˆ
- Native Node.js APIs
```

---

## ì£¼ìš” íŠ¹ì§•

### íŠ¹ì§• 1: ì§€ì—­ ì œí•œ ì—†ìŒ (No Regional Constraints)

**Node.js Runtime:**
```javascript
// us-east-1 ë¦¬ì „ì—ì„œë§Œ ì‹¤í–‰
export default function handler(req, res) {
  // í•œêµ­ ì‚¬ìš©ìëŠ” ê¸´ ì§€ì—° ì‹œê°„ ê²½í—˜
}
```

**Edge Runtime:**
```javascript
export const runtime = 'edge';

export async function GET(request) {
  // ì‚¬ìš©ì ìœ„ì¹˜ì— ê°€ì¥ ê°€ê¹Œìš´ Edgeì—ì„œ ì‹¤í–‰
  return new Response('Fast!');
}
```

### íŠ¹ì§• 2: ì›¹ í‘œì¤€ API

Edge Runtimeì€ ë¸Œë¼ìš°ì €ì™€ ë™ì¼í•œ APIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

```javascript
export const runtime = 'edge';

export async function POST(request) {
  // Request API (Web Standard)
  const body = await request.json();

  // Headers API (Web Standard)
  const headers = new Headers();
  headers.set('Content-Type', 'application/json');

  // Response API (Web Standard)
  return new Response(JSON.stringify(body), {
    headers,
    status: 200
  });
}
```

### íŠ¹ì§• 3: ìŠ¤íŠ¸ë¦¬ë° ì§€ì›

```javascript
export const runtime = 'edge';

export async function GET() {
  const encoder = new TextEncoder();

  const stream = new ReadableStream({
    async start(controller) {
      // ë°ì´í„°ë¥¼ ì ì§„ì ìœ¼ë¡œ ì „ì†¡
      controller.enqueue(encoder.encode('Hello '));
      await sleep(1000);
      controller.enqueue(encoder.encode('World'));
      controller.close();
    }
  });

  return new Response(stream);
}

function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}
```

---

## ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€

### ì‚¬ë¡€ 1: ì¸ì¦ ë¯¸ë“¤ì›¨ì–´

Edge Runtimeì€ ë¯¸ë“¤ì›¨ì–´ì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

```typescript
// middleware.ts
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';

// ìë™ìœ¼ë¡œ Edge Runtimeì—ì„œ ì‹¤í–‰
export function middleware(request: NextRequest) {
  const token = request.cookies.get('auth-token');

  // ë¹ ë¥¸ ì¸ì¦ ì²´í¬ (< 10ms)
  if (!token) {
    return NextResponse.redirect(new URL('/login', request.url));
  }

  return NextResponse.next();
}

export const config = {
  matcher: '/dashboard/:path*'
};
```

### ì‚¬ë¡€ 2: A/B í…ŒìŠ¤íŒ…

```typescript
// middleware.ts
import { NextResponse } from 'next/server';

export function middleware(request: NextRequest) {
  // ì‚¬ìš©ìë¥¼ ëœë¤í•˜ê²Œ ê·¸ë£¹ ë°°ì •
  const bucket = Math.random() > 0.5 ? 'A' : 'B';

  const response = NextResponse.next();

  // ì¿ í‚¤ë¡œ ê·¸ë£¹ ì •ë³´ ì €ì¥
  response.cookies.set('ab-test-bucket', bucket);

  return response;
}
```

### ì‚¬ë¡€ 3: ì§€ì—­ë³„ ë¦¬ë‹¤ì´ë ‰ì…˜

```typescript
// middleware.ts
import { NextResponse } from 'next/server';

export function middleware(request: NextRequest) {
  // Vercelì˜ ì§€ì—­ ì •ë³´ í™œìš©
  const country = request.geo?.country || 'US';

  // í•œêµ­ ì‚¬ìš©ìëŠ” í•œêµ­ì–´ í˜ì´ì§€ë¡œ
  if (country === 'KR' && !request.nextUrl.pathname.startsWith('/ko')) {
    return NextResponse.redirect(
      new URL(`/ko${request.nextUrl.pathname}`, request.url)
    );
  }

  return NextResponse.next();
}
```

### ì‚¬ë¡€ 4: API Routes (ê²½ëŸ‰ API)

```typescript
// app/api/time/route.ts
export const runtime = 'edge';

export async function GET() {
  return Response.json({
    time: new Date().toISOString(),
    edge: true
  });
}
```

### ì‚¬ë¡€ 5: OpenGraph ì´ë¯¸ì§€ ë™ì  ìƒì„±

```typescript
// app/api/og/route.tsx
import { ImageResponse } from 'next/og';

export const runtime = 'edge';

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url);
  const title = searchParams.get('title');

  return new ImageResponse(
    (
      <div style={{
        fontSize: 128,
        background: 'white',
        width: '100%',
        height: '100%',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center'
      }}>
        {title}
      </div>
    ),
    {
      width: 1200,
      height: 630
    }
  );
}
```

---

## ì¥ì ê³¼ í•œê³„

### ì¥ì 

- âœ… **ë¹ ë¥¸ ì‘ë‹µ ì†ë„**: ì½œë“œ ìŠ¤íƒ€íŠ¸ê°€ ê±°ì˜ ì—†ìŒ (< 10ms)
- âœ… **ì „ì—­ ë°°í¬**: ì‚¬ìš©ìì™€ ê°€ê¹Œìš´ ìœ„ì¹˜ì—ì„œ ì‹¤í–‰
- âœ… **ë‚®ì€ ë¹„ìš©**: ì‹¤í–‰ ì‹œê°„ì´ ì§§ì•„ ë¹„ìš© ì ˆê°
- âœ… **ë†’ì€ ë™ì‹œì„±**: ë§ì€ ìš”ì²­ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬
- âœ… **ìŠ¤íŠ¸ë¦¬ë° ì§€ì›**: ë°ì´í„°ë¥¼ ì ì§„ì ìœ¼ë¡œ ì „ì†¡ ê°€ëŠ¥

### í•œê³„

- âš ï¸ **ì œí•œëœ ëŸ°íƒ€ì„**: Node.js ê³ ìœ  API ì‚¬ìš© ë¶ˆê°€
  - íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼ ë¶ˆê°€ (`fs` ëª¨ë“ˆ)
  - Native ëª¨ë“ˆ ì‚¬ìš© ë¶ˆê°€
  - ì¼ë¶€ npm íŒ¨í‚¤ì§€ í˜¸í™˜ ì•ˆ ë¨

- âš ï¸ **ì‹¤í–‰ ì‹œê°„ ì œí•œ**: ìµœëŒ€ 25ì´ˆ (Vercel Pro ê¸°ì¤€)
  - ë¬´ë£Œ í”Œëœ: 10ì´ˆ
  - Pro í”Œëœ: 25ì´ˆ

- âš ï¸ **ë©”ëª¨ë¦¬ ì œí•œ**: ìµœëŒ€ 128MB
  - ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì œí•œì 

- âš ï¸ **í™˜ê²½ ë³€ìˆ˜ í¬ê¸° ì œí•œ**: ìµœëŒ€ 4KB

### íŠ¸ë ˆì´ë“œì˜¤í”„

**Edge Runtimeì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°:**
- ì¸ì¦/ê¶Œí•œ ì²´í¬
- ë¦¬ë‹¤ì´ë ‰ì…˜
- A/B í…ŒìŠ¤íŒ…
- ê°„ë‹¨í•œ ë°ì´í„° ë³€í™˜
- í—¤ë” ìˆ˜ì •
- ì§€ì—­ë³„ ë¼ìš°íŒ…
- OpenGraph ì´ë¯¸ì§€ ìƒì„±

**Node.js Runtimeì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°:**
- ë°ì´í„°ë² ì´ìŠ¤ ì§ì ‘ ì—°ê²° (ë¬´ê±°ìš´ ORM)
- íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼
- ë³µì¡í•œ ë°ì´í„° ì²˜ë¦¬
- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‹¤ìˆ˜ ì‚¬ìš©
- ê¸´ ì‹¤í–‰ ì‹œê°„ì´ í•„ìš”í•œ ì‘ì—… (> 10ì´ˆ)

---

## ì‹¤ì „ ì‚¬ìš© ê°€ì´ë“œ

### 1. Edge Runtimeìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜

**Before (Node.js Runtime):**
```typescript
// app/api/hello/route.ts
import fs from 'fs';

export async function GET() {
  // âŒ fs ëª¨ë“ˆ ì‚¬ìš© - Edge Runtimeì—ì„œ ë¶ˆê°€
  const data = fs.readFileSync('./data.json', 'utf-8');
  return Response.json({ data });
}
```

**After (Edge Runtime):**
```typescript
// app/api/hello/route.ts
export const runtime = 'edge';

export async function GET() {
  // âœ… ì™¸ë¶€ API í˜¸ì¶œë¡œ ëŒ€ì²´
  const response = await fetch('https://api.example.com/data');
  const data = await response.json();
  return Response.json({ data });
}
```

### 2. í˜¸í™˜ì„± ì²´í¬

```typescript
export const runtime = 'edge';

export async function GET() {
  // âœ… ì‚¬ìš© ê°€ëŠ¥í•œ Web APIs
  const url = new URL('https://example.com');
  const headers = new Headers();
  const response = await fetch('...');
  const crypto = globalThis.crypto;

  // âŒ ì‚¬ìš© ë¶ˆê°€
  // const fs = require('fs'); // Node.js ëª¨ë“ˆ
  // const path = require('path');

  return Response.json({ ok: true });
}
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©

```typescript
// Edge Runtimeì—ì„œ í™˜ê²½ ë³€ìˆ˜
export const runtime = 'edge';

export async function GET() {
  // âœ… process.envëŠ” ì‚¬ìš© ê°€ëŠ¥
  const apiKey = process.env.API_KEY;

  const response = await fetch('https://api.example.com', {
    headers: {
      'Authorization': `Bearer ${apiKey}`
    }
  });

  return Response.json(await response.json());
}
```

### 4. ì—ëŸ¬ ì²˜ë¦¬

```typescript
export const runtime = 'edge';

export async function GET(request: Request) {
  try {
    const response = await fetch('https://api.example.com/data');

    if (!response.ok) {
      throw new Error(`API ì˜¤ë¥˜: ${response.status}`);
    }

    const data = await response.json();
    return Response.json(data);

  } catch (error) {
    console.error('Edge Function ì˜¤ë¥˜:', error);

    return Response.json(
      { error: 'ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤' },
      { status: 500 }
    );
  }
}
```

---

## ëŸ°íƒ€ì„ ì„ íƒ ê°€ì´ë“œ

### ì˜ì‚¬ê²°ì • í”Œë¡œìš°ì°¨íŠ¸

```
ì‘ì—…ì´ ë¯¸ë“¤ì›¨ì–´ì¸ê°€?
â”œâ”€ Yes â†’ Edge Runtime (í•„ìˆ˜)
â””â”€ No â†“

ì‘ë‹µ ì†ë„ê°€ ì¤‘ìš”í•œê°€? (< 100ms)
â”œâ”€ Yes â†’ Edge Runtime ê³ ë ¤
â””â”€ No â†“

Node.js ê³ ìœ  APIê°€ í•„ìš”í•œê°€?
â”œâ”€ Yes â†’ Node.js Runtime
â””â”€ No â†“

ì™¸ë¶€ API í˜¸ì¶œë§Œ ìˆëŠ”ê°€?
â”œâ”€ Yes â†’ Edge Runtime
â””â”€ No â†“

ë³µì¡í•œ ê³„ì‚°ì´ í•„ìš”í•œê°€? (> 10ì´ˆ)
â”œâ”€ Yes â†’ Node.js Runtime
â””â”€ No â†’ Edge Runtime
```

### êµ¬ì²´ì ì¸ ì˜ˆì‹œ

| ì‘ì—… ìœ í˜• | ê¶Œì¥ ëŸ°íƒ€ì„ | ì´ìœ  |
|---------|----------|-----|
| ë¯¸ë“¤ì›¨ì–´ | Edge | í•„ìˆ˜ ì‚¬í•­ |
| ì¸ì¦ ì²´í¬ | Edge | ë¹ ë¥¸ ì‘ë‹µ í•„ìš” |
| ë¦¬ë‹¤ì´ë ‰ì…˜ | Edge | ë¹ ë¥¸ ì‘ë‹µ í•„ìš” |
| A/B í…ŒìŠ¤íŒ… | Edge | ë¹ ë¥¸ ì‘ë‹µ í•„ìš” |
| ê°„ë‹¨í•œ API | Edge | ë‚®ì€ ì§€ì—° ì‹œê°„ |
| ORM ì‚¬ìš© | Node.js | Prisma ë“± ë¬´ê±°ìš´ íŒ¨í‚¤ì§€ |
| íŒŒì¼ ì—…ë¡œë“œ | Node.js | fs ëª¨ë“ˆ í•„ìš” |
| ì´ë¯¸ì§€ ì²˜ë¦¬ | Node.js | Sharp ë“± Native ëª¨ë“ˆ |
| ë³µì¡í•œ ê³„ì‚° | Node.js | ê¸´ ì‹¤í–‰ ì‹œê°„ |
| PDF ìƒì„± | Node.js | ë¬´ê±°ìš´ ë¼ì´ë¸ŒëŸ¬ë¦¬ |

---

## ê´€ë ¨ ê°œë…

### Node.js Runtimeê³¼ ë¹„êµ

| íŠ¹ì„± | Edge Runtime | Node.js Runtime |
|-----|-------------|----------------|
| ì‹œì‘ ì‹œê°„ | < 10ms | 300-500ms |
| ìœ„ì¹˜ | ì „ì—­ (300+ ë…¸ë“œ) | íŠ¹ì • ë¦¬ì „ |
| API | Web Standard | Node.js ì „ì²´ |
| íŒ¨í‚¤ì§€ | ì œí•œì  | ì œí•œ ì—†ìŒ |
| ì‹¤í–‰ ì‹œê°„ | 10-25ì´ˆ | 10-300ì´ˆ |
| ë©”ëª¨ë¦¬ | 128MB | 1024MB+ |
| ì‚¬ìš© ì‚¬ë¡€ | ê²½ëŸ‰ ë¡œì§ | ë³µì¡í•œ ë¡œì§ |

### Serverless Functions vs Edge Functions

**Serverless Functions (Node.js Runtime):**
- ë³µì¡í•œ ë¡œì§ ì²˜ë¦¬
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
- íŒŒì¼ ì²˜ë¦¬
- ë¬´ê±°ìš´ ê³„ì‚°

**Edge Functions (Edge Runtime):**
- ë¹ ë¥¸ ì‘ë‹µ í•„ìš”
- ì „ì—­ ì‚¬ìš©ì ëŒ€ì‘
- ê²½ëŸ‰ ë¡œì§
- ë¯¸ë“¤ì›¨ì–´

### Vercel Edge Network

```
[ì‚¬ìš©ì] â†’ [ê°€ì¥ ê°€ê¹Œìš´ Edge ë…¸ë“œ] â†’ [ì‘ë‹µ]
                â†“
    í•„ìš”ì‹œ Origin ì„œë²„ ì ‘ê·¼
```

Vercelì€ ì „ ì„¸ê³„ 300+ ìœ„ì¹˜ì— Edge ë…¸ë“œë¥¼ ìš´ì˜í•˜ë©°, ì‚¬ìš©ìì™€ ê°€ì¥ ê°€ê¹Œìš´ ë…¸ë“œì—ì„œ ì½”ë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

---

## ë” ì•Œì•„ë³´ê¸°

### ê³µì‹ ë¬¸ì„œ
- [Next.js Edge Runtime](https://nextjs.org/docs/app/api-reference/edge)
- [Vercel Edge Functions](https://vercel.com/docs/functions/edge-functions)
- [Web Standards API](https://developer.mozilla.org/en-US/docs/Web/API)

### ì‹¤ìŠµ ê°€ì´ë“œ
- [ë¯¸ë“¤ì›¨ì–´ ì‘ì„±í•˜ê¸°](https://nextjs.org/docs/app/building-your-application/routing/middleware)
- [Edge API Routes](https://nextjs.org/docs/app/building-your-application/routing/route-handlers#edge-and-nodejs-runtimes)

### ì„±ëŠ¥ ìµœì í™”
- [Edge Runtime ìµœì í™” ì „ëµ](https://vercel.com/docs/functions/edge-functions/edge-functions-api)
- [ëŸ°íƒ€ì„ ë¹„ìš© ë¹„êµ](https://vercel.com/docs/pricing)

---

## ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)

### Q1: Edge Runtimeì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‚˜ìš”?

**A:** ì§ì ‘ ì—°ê²°ì€ ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ HTTP ê¸°ë°˜ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ê°€ëŠ¥í•©ë‹ˆë‹¤:

```typescript
export const runtime = 'edge';

// âŒ ë¶ˆê°€ëŠ¥
// import { PrismaClient } from '@prisma/client';

// âœ… ê°€ëŠ¥ (HTTP ê¸°ë°˜)
import { createClient } from '@supabase/supabase-js';

export async function GET() {
  const supabase = createClient(
    process.env.SUPABASE_URL!,
    process.env.SUPABASE_KEY!
  );

  const { data } = await supabase.from('users').select('*');
  return Response.json(data);
}
```

### Q2: ê¸°ì¡´ ì½”ë“œë¥¼ Edge Runtimeìœ¼ë¡œ ë³€í™˜í•˜ë ¤ë©´?

**A:** 3ë‹¨ê³„ë¡œ ì§„í–‰í•˜ì„¸ìš”:

1. **ëŸ°íƒ€ì„ ì„ ì–¸ ì¶”ê°€**
```typescript
export const runtime = 'edge';
```

2. **Node.js API ì œê±°**
```typescript
// âŒ ì œê±°
import fs from 'fs';
import path from 'path';

// âœ… Web Standard API ì‚¬ìš©
const response = await fetch('...');
```

3. **í…ŒìŠ¤íŠ¸ ë° ê²€ì¦**
```bash
npm run build
# Edge Runtime í˜¸í™˜ì„± ì²´í¬
```

### Q3: Edge Runtimeê³¼ Node.js Runtimeì„ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‚˜ìš”?

**A:** ë„¤, ë¼ìš°íŠ¸ë³„ë¡œ ë‹¤ë¥´ê²Œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```typescript
// app/api/fast/route.ts
export const runtime = 'edge'; // Edge Runtime

export async function GET() {
  return Response.json({ type: 'edge' });
}
```

```typescript
// app/api/heavy/route.ts
// ëŸ°íƒ€ì„ ëª…ì‹œ ì—†ìŒ = Node.js Runtime (ê¸°ë³¸ê°’)

import { PrismaClient } from '@prisma/client';

export async function GET() {
  const prisma = new PrismaClient();
  // ë³µì¡í•œ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬
}
```

### Q4: Edge Runtimeì˜ ì„±ëŠ¥ì€ ì‹¤ì œë¡œ ì–¼ë§ˆë‚˜ ë¹ ë¥¸ê°€ìš”?

**A:** ì‹¤ì œ ì¸¡ì • ê²°ê³¼:

```
ì½œë“œ ìŠ¤íƒ€íŠ¸ (ì²« ìš”ì²­):
- Edge Runtime: 10-50ms
- Node.js Runtime: 300-800ms

í›„ì† ìš”ì²­:
- Edge Runtime: < 10ms
- Node.js Runtime: 50-100ms

ì§€ì—­ë³„ ì‘ë‹µ ì‹œê°„ (í•œêµ­ ì‚¬ìš©ì):
- Edge Runtime (ì„œìš¸): 30-50ms
- Node.js Runtime (ë²„ì§€ë‹ˆì•„): 250-350ms
```

---

## ì‹¤ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Edge Runtime ì ìš© ì „ í™•ì¸ì‚¬í•­

- [ ] Node.js ê³ ìœ  API (`fs`, `path` ë“±) ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ê°€?
- [ ] ì‹¤í–‰ ì‹œê°„ì´ 10ì´ˆ ì´ë‚´ì¸ê°€?
- [ ] ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ 128MB ì´ë‚´ì¸ê°€?
- [ ] ì‚¬ìš©í•˜ëŠ” npm íŒ¨í‚¤ì§€ê°€ Web Standard APIë§Œ ì‚¬ìš©í•˜ëŠ”ê°€?
- [ ] ë¹ ë¥¸ ì‘ë‹µ ì†ë„ê°€ ì¤‘ìš”í•œ ì‘ì—…ì¸ê°€?

### ë§ˆì´ê·¸ë ˆì´ì…˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] `export const runtime = 'edge'` ì¶”ê°€
- [ ] Node.js ëª¨ë“ˆ ì œê±° ë° ëŒ€ì²´
- [ ] ë¹Œë“œ ì—ëŸ¬ í™•ì¸ (`npm run build`)
- [ ] ë¡œì»¬ í…ŒìŠ¤íŠ¸ (`npm run dev`)
- [ ] í”„ë¡œë•ì…˜ ë°°í¬ ë° ëª¨ë‹ˆí„°ë§
- [ ] ì„±ëŠ¥ ì¸¡ì • ë° ë¹„êµ

---

## ë§ˆì¹˜ë©°

Edge Runtimeì€ Next.jsì˜ ê°•ë ¥í•œ ê¸°ëŠ¥ìœ¼ë¡œ, ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í•µì‹¬ ì •ë¦¬:**
1. ë¹ ë¥¸ ì‘ë‹µì´ í•„ìš”í•œ ê²½ìš° â†’ Edge Runtime
2. ë³µì¡í•œ ë¡œì§ì´ í•„ìš”í•œ ê²½ìš° â†’ Node.js Runtime
3. ë¯¸ë“¤ì›¨ì–´ëŠ” í•­ìƒ â†’ Edge Runtime

ì²˜ìŒì—ëŠ” ë¯¸ë“¤ì›¨ì–´ì™€ ê°„ë‹¨í•œ API Routesë¶€í„° Edge Runtimeì„ ì ìš©í•´ë³´ê³ , ì ì§„ì ìœ¼ë¡œ í™•ëŒ€í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

**ë‹¤ìŒ ë‹¨ê³„:**
- ì‹¤ì œ í”„ë¡œì íŠ¸ì— ë¯¸ë“¤ì›¨ì–´ ì‘ì„±í•´ë³´ê¸°
- ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ë„êµ¬ë¡œ ì¸¡ì •í•˜ê¸°
- íŒ€ê³¼ ëŸ°íƒ€ì„ ì„ íƒ ê¸°ì¤€ ì •ì˜í•˜ê¸°
