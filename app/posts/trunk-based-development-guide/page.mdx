---
title: 'Trunk-based Development ì´í•´í•˜ê¸°'
date: '2026-01-23'
description: 'Trunk-based DevelopmentëŠ” ëª¨ë“  ê°œë°œìê°€ í•˜ë‚˜ì˜ ë©”ì¸ ë¸Œëœì¹˜ì—ì„œ ì‘ì—…í•˜ê³  ì§§ì€ ìƒëª…ì£¼ê¸°ì˜ í”¼ì²˜ ë¸Œëœì¹˜ë§Œ ì‚¬ìš©í•˜ëŠ” ì†ŒìŠ¤ ì½”ë“œ ê´€ë¦¬ ë°©ì‹ì…ë‹ˆë‹¤. CI/CDë¥¼ ìœ„í•œ í•„ìˆ˜ ì „ì œì¡°ê±´ê³¼ ì‹¤ì „ ì ìš© ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.'
tags: ['Git', 'Trunk-based Development', 'CI/CD', 'Feature Flags', 'Continuous Delivery', 'ë¸Œëœì¹˜ ì „ëµ', 'ê°€ì´ë“œ']
---

import { JsonLd } from '~/app/_components'

<JsonLd
  metadata={{
    title: 'Trunk-based Development ì´í•´í•˜ê¸°',
    description: 'Trunk-based DevelopmentëŠ” ëª¨ë“  ê°œë°œìê°€ í•˜ë‚˜ì˜ ë©”ì¸ ë¸Œëœì¹˜ì—ì„œ ì‘ì—…í•˜ê³  ì§§ì€ ìƒëª…ì£¼ê¸°ì˜ í”¼ì²˜ ë¸Œëœì¹˜ë§Œ ì‚¬ìš©í•˜ëŠ” ì†ŒìŠ¤ ì½”ë“œ ê´€ë¦¬ ë°©ì‹ì…ë‹ˆë‹¤. CI/CDë¥¼ ìœ„í•œ í•„ìˆ˜ ì „ì œì¡°ê±´ê³¼ ì‹¤ì „ ì ìš© ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.',
    date: '2026-01-23',
    slug: 'trunk-based-development-guide',
    tags: ['Git', 'Trunk-based Development', 'CI/CD', 'Feature Flags', 'Continuous Delivery', 'ë¸Œëœì¹˜ ì „ëµ', 'ê°€ì´ë“œ'],
  }}
/>

# Trunk-based Development ì´í•´í•˜ê¸°

## ê°œìš”

Trunk-based Development(TBD)ëŠ” ëª¨ë“  ê°œë°œìê°€ í•˜ë‚˜ì˜ ë©”ì¸ ë¸Œëœì¹˜(trunk ë˜ëŠ” main)ì—ì„œ ì§ì ‘ ì‘ì—…í•˜ê³ , ì§§ì€ ìƒëª…ì£¼ê¸°ì˜ í”¼ì²˜ ë¸Œëœì¹˜ë§Œì„ ì‚¬ìš©í•˜ëŠ” ì†ŒìŠ¤ ì½”ë“œ ê´€ë¦¬ ë°©ì‹ì…ë‹ˆë‹¤. ê°œë°œìë“¤ì€ ë§¤ì¼ ë˜ëŠ” ê·¸ë³´ë‹¤ ìì£¼ ë³€ê²½ì‚¬í•­ì„ trunkì— í†µí•©í•˜ë©°, ì´ë¥¼ í†µí•´ ë¨¸ì§€ ì¶©ëŒì„ ìµœì†Œí™”í•˜ê³  ì§€ì†ì  í†µí•©(CI)ê³¼ ì§€ì†ì  ë°°í¬(CD)ë¥¼ ì‹¤í˜„í•©ë‹ˆë‹¤.

ì´ ë°©ì‹ì€ Google, Facebookê³¼ ê°™ì€ ëŒ€ê·œëª¨ ì¡°ì§ì—ì„œ ê²€ì¦ë˜ì—ˆìœ¼ë©°, CI/CDë¥¼ ìœ„í•œ í•„ìˆ˜ ì „ì œì¡°ê±´ìœ¼ë¡œ ì¸ì •ë°›ê³  ìˆìŠµë‹ˆë‹¤. Trunk-based Developmentë¥¼ í™œìš©í•˜ë©´ íŒ€ì˜ ë°°í¬ ì†ë„ë¥¼ ë†’ì´ê³ , ì½”ë“œ í†µí•© ë¹„ìš©ì„ ì¤„ì´ë©°, ë” ë¹ ë¥¸ í”¼ë“œë°± ì‚¬ì´í´ì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ë°°ê²½

### ì™œ í•„ìš”í•œê°€?

ì „í†µì ì¸ ë¸Œëœì¹˜ ì „ëµì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤:

**ì¥ê¸° í”¼ì²˜ ë¸Œëœì¹˜ì˜ ë¬¸ì œì :**
- ë©”ì¸ ë¸Œëœì¹˜ì™€ í”¼ì²˜ ë¸Œëœì¹˜ê°€ ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ í¬ê²Œ ë‹¬ë¼ì§
- ëŒ€ê·œëª¨ ë¨¸ì§€ ì‹œ ë³µì¡í•œ ì¶©ëŒ ë°œìƒ ("Merge Hell")
- í†µí•© ì‹œì ì´ ëŠ¦ì–´ì§€ë©´ì„œ ë²„ê·¸ ë°œê²¬ë„ ì§€ì—°ë¨
- ë‹¤ë¥¸ íŒ€ì›ì˜ ì‘ì—…ê³¼ ê²©ë¦¬ë˜ì–´ í˜‘ì—…ì´ ì–´ë ¤ì›Œì§

**ì˜ˆì‹œ: ì „í†µì  ì›Œí¬í”Œë¡œì˜ ë¬¸ì œ**
```
ê°œë°œì A: feature-payment ë¸Œëœì¹˜ì—ì„œ 2ì£¼ê°„ ì‘ì—…
ê°œë°œì B: feature-auth ë¸Œëœì¹˜ì—ì„œ 3ì£¼ê°„ ì‘ì—…
ê°œë°œì C: feature-ui ë¸Œëœì¹˜ì—ì„œ 1ì£¼ê°„ ì‘ì—…

â†’ 3ê°œ ë¸Œëœì¹˜ê°€ ê°ê° ë‹¤ë¥¸ ì‹œì ì˜ mainì„ ê¸°ë°˜ìœ¼ë¡œ í•¨
â†’ ë™ì‹œì— merge ì‹œë„ ì‹œ ëŒ€ê·œëª¨ ì¶©ëŒ ë°œìƒ
â†’ ì¶©ëŒ í•´ê²°ì— ìˆ˜ì¼ ì†Œìš”, ë²„ê·¸ ë°œìƒ ìœ„í—˜ ì¦ê°€
```

ì´ëŸ¬í•œ ë¬¸ì œëŠ” íŠ¹íˆ ë‹¤ìŒ ìƒí™©ì—ì„œ ì‹¬ê°í•´ì§‘ë‹ˆë‹¤:
- íŒ€ ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ ì¶©ëŒ ê°€ëŠ¥ì„± ì¦ê°€
- ë¦´ë¦¬ìŠ¤ ì£¼ê¸°ê°€ ì§§ì•„ì§ˆìˆ˜ë¡ í†µí•© ë¶€ë‹´ ê°€ì¤‘
- ì—¬ëŸ¬ íŒ€ì´ ë™ì‹œì— ì‘ì—…í• ìˆ˜ë¡ ì¡°ì • ë¹„ìš© ì¦ê°€

### ë“±ì¥ ì´ì „ì˜ ë°©ì‹

**GitFlow (2010ë…„ ë“±ì¥)**

GitFlowëŠ” Vincent Driessenì´ ì œì•ˆí•œ ë¸Œëœì¹˜ ì „ëµìœ¼ë¡œ, ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:

- `master` (main): í”„ë¡œë•ì…˜ ë¦´ë¦¬ìŠ¤ìš©
- `develop`: ê°œë°œ í†µí•©ìš©
- `feature/*`: ê¸°ëŠ¥ ê°œë°œìš© (ì¥ê¸°)
- `release/*`: ë¦´ë¦¬ìŠ¤ ì¤€ë¹„ìš©
- `hotfix/*`: ê¸´ê¸‰ ìˆ˜ì •ìš©

```
master    â—â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â—
          â”‚     â”‚         â”‚     â”‚
release   â”‚     â—â”€â”€â—â”€â”€â—â”€â”€â”€â—     â”‚
          â”‚     â”‚              â”‚
develop   â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—
          â”‚  â”‚     â”‚  â”‚  â”‚     â”‚
feature/A â—â”€â”€â—â”€â”€â”€â”€â”€â—  â”‚  â”‚     â”‚
          â”‚           â”‚  â”‚     â”‚
feature/B â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â—â”€â”€â”€â”€â”€â—
```

**GitFlowì˜ í•œê³„:**
- ë³µì¡í•œ ë¸Œëœì¹˜ êµ¬ì¡°ë¡œ í•™ìŠµ ê³¡ì„ ì´ ê°€íŒŒë¦„
- ì—¬ëŸ¬ ì¥ê¸° ë¸Œëœì¹˜ ìœ ì§€ì— ë”°ë¥¸ ì˜¤ë²„í—¤ë“œ
- ë¹ ë¥¸ í”¼ë“œë°±ê³¼ ë°°í¬ê°€ ì–´ë ¤ì›€
- ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œëŒ€ì—ëŠ” ê³¼ë„í•œ ë³µì¡ì„±

**ì „í†µì  Feature Branch ì „ëµ**

ê° ê¸°ëŠ¥ë§ˆë‹¤ ë…ë¦½ì ì¸ ë¸Œëœì¹˜ë¥¼ ìƒì„±í•˜ê³ , ì™„ì„± í›„ mergeí•˜ëŠ” ë°©ì‹:

```bash
# ê¸°ëŠ¥ ë¸Œëœì¹˜ ìƒì„±
git checkout -b feature/user-dashboard

# 2-4ì£¼ê°„ ì‘ì—…...
git add .
git commit -m "Add user dashboard"

# ì™„ë£Œ í›„ merge (ì´ë•Œ ì´ë¯¸ mainê³¼ í¬ê²Œ ë‹¬ë¼ì§)
git checkout main
git merge feature/user-dashboard  # ì¶©ëŒ ë°œìƒ ê°€ëŠ¥ì„± ë†’ìŒ
```

2010ë…„ëŒ€ ì¤‘ë°˜ë¶€í„° CI/CDì™€ DevOpsê°€ ì£¼ë¥˜ê°€ ë˜ë©´ì„œ, ì´ëŸ¬í•œ ì „í†µì  ë°©ì‹ì€ ë¹ ë¥¸ ë°°í¬ ì£¼ê¸°ë¥¼ ë”°ë¼ê°€ê¸° ì–´ë ¤ì›Œì¡ŒìŠµë‹ˆë‹¤. Trunk-based DevelopmentëŠ” ì´ëŸ¬í•œ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ ë“±ì¥í–ˆìŠµë‹ˆë‹¤.

---

## ë™ì‘ ì›ë¦¬

### í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜

Trunk-based Developmentì˜ ì‘ë™ ë°©ì‹ì€ ë‹¤ìŒ ì›ì¹™ì„ ë”°ë¦…ë‹ˆë‹¤:

#### 1. ë‹¨ì¼ ì§„ì‹¤ì˜ ì›ì²œ (Single Source of Truth)

trunk(main) ë¸Œëœì¹˜ê°€ ìœ ì¼í•œ ì¥ê¸° ë¸Œëœì¹˜ì…ë‹ˆë‹¤. ëª¨ë“  ê°œë°œ í™œë™ì´ ì´ ë¸Œëœì¹˜ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.

```
trunk     â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—
          â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚
          â””â”€â”€â”˜  â””â”€â”€â”˜  â””â”€â”€â”˜  â””â”€â”˜
          ì§§ì€ í”¼ì²˜ ë¸Œëœì¹˜ë“¤ (ìˆ˜ì‹œê°„~1ì¼)
```

#### 2. ë¹ˆë²ˆí•œ í†µí•© (Frequent Integration)

ê°œë°œìëŠ” í•˜ë£¨ì— ìµœì†Œ í•œ ë²ˆ, ì´ìƒì ìœ¼ë¡œëŠ” ì—¬ëŸ¬ ë²ˆ trunkì— í†µí•©í•©ë‹ˆë‹¤.

```
í•˜ë£¨ ë™ì•ˆì˜ ì‘ì—… íë¦„:

09:00 - trunkì—ì„œ pull
10:00 - ì‘ì€ ë³€ê²½ commit & push
12:00 - ë‹¤ë¥¸ ê¸°ëŠ¥ commit & push
15:00 - ë²„ê·¸ ìˆ˜ì • commit & push
17:00 - í…ŒìŠ¤íŠ¸ ì¶”ê°€ commit & push
```

#### 3. ì§§ì€ ìƒëª…ì£¼ê¸°ì˜ ë¸Œëœì¹˜

í”¼ì²˜ ë¸Œëœì¹˜ëŠ” ìµœëŒ€ 1-2ì¼ ì´ë‚´ì— trunkë¡œ ë³‘í•©ë©ë‹ˆë‹¤.

**Before (ì¥ê¸° ë¸Œëœì¹˜):**
```bash
# âŒ ë‚˜ìœ ì˜ˆ: ì¥ê¸° ë¸Œëœì¹˜
git checkout -b feature/complete-payment-system
# 2ì£¼ê°„ ì‘ì—…...
# ìˆ˜ë°± ê°œì˜ íŒŒì¼ ë³€ê²½
# merge ì‹œ í° ì¶©ëŒ ë°œìƒ
```

**After (ë‹¨ê¸° ë¸Œëœì¹˜):**
```bash
# âœ… ì¢‹ì€ ì˜ˆ: ì‘ì€ ë‹¨ìœ„ë¡œ ë¶„í• 
git checkout -b feature/add-payment-button
# 2-3ì‹œê°„ ì‘ì—…
git commit -m "Add payment button UI"
git push && create PR

git checkout -b feature/payment-api-integration
# 4ì‹œê°„ ì‘ì—…
git commit -m "Integrate payment API"
git push && create PR

git checkout -b feature/payment-error-handling
# 3ì‹œê°„ ì‘ì—…
git commit -m "Add payment error handling"
git push && create PR
```

#### 4. Feature Flagsë¡œ ë¯¸ì™„ì„± ê¸°ëŠ¥ ê´€ë¦¬

ì™„ì„±ë˜ì§€ ì•Šì€ ê¸°ëŠ¥ë„ trunkì— í†µí•©í•˜ë˜, Feature Flagë¡œ í”„ë¡œë•ì…˜ì—ì„œ ìˆ¨ê¹ë‹ˆë‹¤.

```javascript
// Feature Flagë¥¼ ì‚¬ìš©í•œ ì ì§„ì  ê°œë°œ
function PaymentPage() {
  const { isEnabled } = useFeatureFlag('new-payment-flow');

  if (isEnabled) {
    // ğŸš§ ê°œë°œ ì¤‘ì¸ ìƒˆë¡œìš´ ê²°ì œ í”Œë¡œìš°
    return <NewPaymentFlow />;
  }

  // âœ… ê¸°ì¡´ì˜ ì•ˆì •ì ì¸ ê²°ì œ í”Œë¡œìš°
  return <LegacyPaymentFlow />;
}
```

ì´ë ‡ê²Œ í•˜ë©´:
- ìƒˆ ê¸°ëŠ¥ì„ trunkì— ë§¤ì¼ commit ê°€ëŠ¥
- í”„ë¡œë•ì…˜ì—ëŠ” ì˜í–¥ ì—†ìŒ (Flagê°€ off ìƒíƒœ)
- ë‚´ë¶€ í…ŒìŠ¤íŠ¸ ì‹œì—ë§Œ Flagë¥¼ onìœ¼ë¡œ í™œì„±í™”
- ì™„ì„± í›„ Flagë¥¼ ì ì§„ì ìœ¼ë¡œ ë¡¤ì•„ì›ƒ

### ë‹¨ê³„ë³„ ì›Œí¬í”Œë¡œìš°

#### ì†Œê·œëª¨ íŒ€ (1-10ëª…): Direct to Trunk

```bash
# 1. ìµœì‹  ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
git checkout main
git pull origin main

# 2. ì§ì ‘ mainì—ì„œ ì‘ì—…
# (ë§¤ìš° ì‘ì€ ë³€ê²½ë§Œ)
git add src/components/Button.tsx
git commit -m "Fix: Button hover color"
git push origin main

# 3. CIê°€ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ & ë°°í¬
```

**ì ìš© ì‹œë‚˜ë¦¬ì˜¤:**
- ìŠ¤íƒ€íŠ¸ì—…ì˜ MVP ê°œë°œ
- 5ëª… ì´í•˜ì˜ ê²½í—˜ ë§ì€ íŒ€
- ë¹ ë¥¸ ì‹¤í—˜ê³¼ í”¼ë²—ì´ í•„ìš”í•œ ê²½ìš°

#### ì¤‘ëŒ€ê·œëª¨ íŒ€ (10ëª… ì´ìƒ): Pull Request ì›Œí¬í”Œë¡œìš°

```bash
# 1. ìµœì‹  trunk ê°€ì ¸ì˜¤ê¸°
git checkout main
git pull origin main

# 2. ì§§ì€ í”¼ì²˜ ë¸Œëœì¹˜ ìƒì„±
git checkout -b fix/login-validation

# 3. ì‘ì€ ë‹¨ìœ„ë¡œ ì‘ì—… (2-4ì‹œê°„)
# src/auth/validation.ts íŒŒì¼ë§Œ ìˆ˜ì •
git add src/auth/validation.ts
git commit -m "Add email format validation"

# 4. PR ìƒì„± ë° ì¦‰ì‹œ ë¦¬ë·° ìš”ì²­
git push origin fix/login-validation
# GitHubì—ì„œ PR ìƒì„±

# 5. CI ìë™ ì‹¤í–‰
# - ìœ ë‹› í…ŒìŠ¤íŠ¸
# - í†µí•© í…ŒìŠ¤íŠ¸
# - ë¦°íŠ¸ & í¬ë§· ì²´í¬
# - ë¹Œë“œ ê²€ì¦

# 6. ë¦¬ë·° í›„ ì¦‰ì‹œ merge (1-2ì‹œê°„ ë‚´)
# Auto-merge ë˜ëŠ” ìˆ˜ë™ merge

# 7. ë¸Œëœì¹˜ ì‚­ì œ
git branch -d fix/login-validation
```

**PR í¬ê¸° ê°€ì´ë“œë¼ì¸:**
- ë³€ê²½ ë¼ì¸ ìˆ˜: 50-200ì¤„ ê¶Œì¥
- ë¦¬ë·° ì‹œê°„: 15-30ë¶„ ì´ë‚´
- ìˆ˜ëª…: ë‹¹ì¼ merge ì›ì¹™

### ì‹œê°ì  ë¹„êµ

**GitFlow vs Trunk-based Development**

```
[GitFlow - ë³µì¡í•¨]
master    â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—
          â”‚             â”‚             â”‚
release   â”‚    â—â”€â”€â”€â”€â—â”€â”€â”€â—             â”‚
          â”‚    â”‚                      â”‚
develop   â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â—
          â”‚    â”‚    â”‚    â”‚    â”‚
feature/A â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—    â”‚    â”‚
          â”‚              â”‚    â”‚
feature/B â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â—


[Trunk-based - ë‹¨ìˆœí•¨]
main      â—â”€â—â”€â—â”€â—â”€â—â”€â—â”€â—â”€â—â”€â—â”€â—â”€â—â”€â—
          â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
          â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜
          (ì§§ì€ ë¸Œëœì¹˜ë“¤, ë‹¹ì¼ merge)
```

---

## ì£¼ìš” íŠ¹ì§•

### íŠ¹ì§• 1: Feature Flagsì™€ì˜ ê¸´ë°€í•œ í†µí•©

Feature Flags(Feature Toggles)ëŠ” Trunk-based Developmentì˜ í•µì‹¬ ê¸°ìˆ ì…ë‹ˆë‹¤.

**Feature Flagì˜ ì—­í• :**

1. **ë°°í¬ì™€ ë¦´ë¦¬ìŠ¤ì˜ ë¶„ë¦¬**
```javascript
// ì½”ë“œëŠ” ì´ë¯¸ í”„ë¡œë•ì…˜ì— ë°°í¬ë¨
// í•˜ì§€ë§Œ ì‚¬ìš©ìì—ê²ŒëŠ” ë³´ì´ì§€ ì•ŠìŒ
function Dashboard() {
  const flags = useFeatureFlags();

  return (
    <div>
      <h1>Dashboard</h1>

      {/* ê¸°ì¡´ ê¸°ëŠ¥ */}
      <UserStats />

      {/* ìƒˆ ê¸°ëŠ¥ - Flagë¡œ ì œì–´ */}
      {flags.aiRecommendations && (
        <AIRecommendations />
      )}
    </div>
  );
}
```

2. **ì ì§„ì  ë¡¤ì•„ì›ƒ**
```javascript
// ì„¤ì • íŒŒì¼ ë˜ëŠ” Feature Flag ì„œë¹„ìŠ¤
{
  "aiRecommendations": {
    "enabled": true,
    "rollout": {
      "percentage": 10,  // 10% ì‚¬ìš©ìì—ê²Œë§Œ í™œì„±í™”
      "userGroups": ["beta-testers", "internal"]
    }
  }
}
```

3. **ê¸´ê¸‰ ë¡¤ë°±**
```javascript
// ë¬¸ì œ ë°œìƒ ì‹œ ì¦‰ì‹œ Flagë¥¼ ë”
// ì½”ë“œ ì¬ë°°í¬ ë¶ˆí•„ìš”!
await featureFlagService.disable('aiRecommendations');
```

**ì‹¤ì œ êµ¬í˜„ ì˜ˆì‹œ: React + LaunchDarkly**

```typescript
// feature-flags.ts
import { useFlags } from 'launchdarkly-react-client-sdk';

export function useNewCheckoutFlow() {
  const flags = useFlags();
  return flags.newCheckoutFlow ?? false;
}

// CheckoutPage.tsx
function CheckoutPage() {
  const isNewFlowEnabled = useNewCheckoutFlow();

  if (isNewFlowEnabled) {
    return <NewCheckoutFlow />;
  }

  return <LegacyCheckoutFlow />;
}

// í…ŒìŠ¤íŠ¸ ì½”ë“œ
describe('CheckoutPage', () => {
  it('shows new flow when flag is enabled', () => {
    const { render } = setupWithFlags({ newCheckoutFlow: true });
    expect(screen.getByText('New Checkout')).toBeInTheDocument();
  });

  it('shows legacy flow when flag is disabled', () => {
    const { render } = setupWithFlags({ newCheckoutFlow: false });
    expect(screen.getByText('Legacy Checkout')).toBeInTheDocument();
  });
});
```

**Feature Flag ê´€ë¦¬ ëª¨ë²” ì‚¬ë¡€:**

```typescript
// âœ… ì¢‹ì€ ì˜ˆ: ëª…í™•í•œ ë„¤ì´ë°ê³¼ ë§Œë£Œ ë‚ ì§œ
const FLAGS = {
  NEW_DASHBOARD: {
    key: 'new-dashboard',
    description: 'ìƒˆë¡œìš´ ëŒ€ì‹œë³´ë“œ UI',
    createdAt: '2025-01-01',
    removeAfter: '2025-03-01',  // 2ê°œì›” í›„ ì œê±° ì˜ˆì •
    owner: 'frontend-team'
  }
};

// âŒ ë‚˜ìœ ì˜ˆ: ëª¨í˜¸í•œ ì´ë¦„, ê´€ë¦¬ ì •ë³´ ì—†ìŒ
const FLAGS = {
  FLAG_1: 'f1',
  NEW_FEATURE: 'nf'
};
```

**Flag ì •ë¦¬ í”„ë¡œì„¸ìŠ¤:**

1. Flag ìƒì„± ì‹œ ì œê±° ë‚ ì§œ ì„¤ì •
2. ì›” 1íšŒ Flag ì •ë¦¬ íšŒì˜
3. ì™„ì „íˆ ë¡¤ì•„ì›ƒëœ ê¸°ëŠ¥ì˜ Flag ì œê±°
4. ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” Flag ì‹ë³„ ë° ì œê±°

```bash
# Flag ì •ë¦¬ ì˜ˆì‹œ
# 1. 100% ë¡¤ì•„ì›ƒ ì™„ë£Œ â†’ Flag ì œê±°
- if (flags.newDashboard) {
-   return <NewDashboard />;
- }
- return <OldDashboard />;
+ return <NewDashboard />;

# 2. ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” Flag â†’ ì½”ë“œ ë° ì„¤ì • ì œê±°
```

### íŠ¹ì§• 2: CI/CDì˜ í•„ìˆ˜ ì „ì œì¡°ê±´

Trunk-based DevelopmentëŠ” CI/CDì™€ ë¶ˆê°€ë¶„ì˜ ê´€ê³„ì…ë‹ˆë‹¤.

**ìë™í™”ëœ í…ŒìŠ¤íŠ¸ íŒŒì´í”„ë¼ì¸:**

```yaml
# .github/workflows/ci.yml
name: Continuous Integration

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      # 1. ì˜ì¡´ì„± ì„¤ì¹˜
      - name: Install dependencies
        run: npm ci

      # 2. ë¦°íŠ¸ & íƒ€ì… ì²´í¬ (ë¹ ë¥¸ í”¼ë“œë°±)
      - name: Lint
        run: npm run lint

      - name: Type check
        run: npm run type-check

      # 3. ìœ ë‹› í…ŒìŠ¤íŠ¸ (ë¹ ë¦„, 5-10ë¶„)
      - name: Unit tests
        run: npm run test:unit

      # 4. í†µí•© í…ŒìŠ¤íŠ¸ (ì¤‘ê°„, 10-20ë¶„)
      - name: Integration tests
        run: npm run test:integration

      # 5. E2E í…ŒìŠ¤íŠ¸ (ëŠë¦¼, 20-40ë¶„)
      - name: E2E tests
        run: npm run test:e2e

      # 6. ë¹Œë“œ ê²€ì¦
      - name: Build
        run: npm run build

      # 7. ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ ì‹œ ìë™ ë°°í¬
      - name: Deploy to staging
        if: github.ref == 'refs/heads/main'
        run: npm run deploy:staging
```

**í…ŒìŠ¤íŠ¸ ì „ëµ:**

```
[í”¼ë¼ë¯¸ë“œ êµ¬ì¡°]

           /\      E2E Tests (10%)
          /  \     - ì£¼ìš” ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤
         /    \    - ëŠë¦¬ì§€ë§Œ ì‹¤ì œ í™˜ê²½ ê²€ì¦
        /------\
       /        \  Integration Tests (30%)
      /          \ - API í†µí•©
     /            \- ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™
    /--------------\
   /                \ Unit Tests (60%)
  /                  \- ë¹ ë¥¸ í”¼ë“œë°±
 /--------------------\- ë†’ì€ ì»¤ë²„ë¦¬ì§€
```

**ì½”ë“œ ì˜ˆì‹œ: í…ŒìŠ¤íŠ¸ ì‘ì„±**

```typescript
// âœ… ì¢‹ì€ ì˜ˆ: ë¹ ë¥¸ ìœ ë‹› í…ŒìŠ¤íŠ¸
describe('calculateDiscount', () => {
  it('applies 10% discount for orders over $100', () => {
    const result = calculateDiscount({ total: 150 });
    expect(result).toBe(135);
  });

  it('applies no discount for orders under $100', () => {
    const result = calculateDiscount({ total: 50 });
    expect(result).toBe(50);
  });
});

// í†µí•© í…ŒìŠ¤íŠ¸
describe('PaymentAPI', () => {
  it('processes payment successfully', async () => {
    const payment = await paymentAPI.process({
      amount: 100,
      currency: 'USD'
    });

    expect(payment.status).toBe('completed');
  });
});

// E2E í…ŒìŠ¤íŠ¸
describe('Checkout Flow', () => {
  it('completes full checkout process', async () => {
    await page.goto('/products/1');
    await page.click('button:has-text("Add to Cart")');
    await page.click('a:has-text("Checkout")');
    await page.fill('[name="email"]', 'test@example.com');
    await page.click('button:has-text("Pay")');

    await expect(page.locator('.success-message')).toBeVisible();
  });
});
```

### íŠ¹ì§• 3: ì‘ì€ ë°°ì¹˜ í¬ê¸° (Small Batch Size)

**ë°°ì¹˜ í¬ê¸°ë³„ ìœ„í—˜ë„:**

```
[ëŒ€í˜• ë°°ì¹˜ - ìœ„í—˜í•¨]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2ì£¼ê°„ ì‘ì—…í•œ ëŒ€í˜• PR               â”‚
â”‚  - 50ê°œ íŒŒì¼ ë³€ê²½                   â”‚
â”‚  - 2,000ì¤„ ì¶”ê°€/ìˆ˜ì •                â”‚
â”‚  - ë¦¬ë·° ì‹œê°„: 4-6ì‹œê°„               â”‚
â”‚  - ë²„ê·¸ ìœ„í—˜: ë†’ìŒ                  â”‚
â”‚  - ë¡¤ë°± ì‹œ í° ì˜í–¥                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[ì†Œí˜• ë°°ì¹˜ - ì•ˆì „í•¨]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PR #1    â”‚ â”‚ PR #2    â”‚ â”‚ PR #3    â”‚
â”‚ 3ê°œ íŒŒì¼ â”‚ â”‚ 2ê°œ íŒŒì¼ â”‚ â”‚ 4ê°œ íŒŒì¼ â”‚
â”‚ 80ì¤„     â”‚ â”‚ 50ì¤„     â”‚ â”‚ 120ì¤„    â”‚
â”‚ ë¦¬ë·°: 15ë¶„â”‚ â”‚ ë¦¬ë·°: 10ë¶„â”‚ â”‚ ë¦¬ë·°: 20ë¶„â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì‹¤ì œ ì‘ì—… ë¶„í•  ì˜ˆì‹œ:**

```
[âŒ ì˜ëª»ëœ ë°©ì‹]
feature/complete-user-management
- ì‚¬ìš©ì CRUD API
- ì‚¬ìš©ì ëª©ë¡ UI
- ì‚¬ìš©ì ìƒì„¸ í˜ì´ì§€
- ê¶Œí•œ ê´€ë¦¬ ì‹œìŠ¤í…œ
- ê°ì‚¬ ë¡œê·¸
ì´ ì‘ì—… ì‹œê°„: 2ì£¼


[âœ… ì˜¬ë°”ë¥¸ ë°©ì‹]
1. feature/user-api-create (4ì‹œê°„)
   - POST /api/users API ì¶”ê°€
   - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

2. feature/user-list-ui (3ì‹œê°„)
   - ì‚¬ìš©ì ëª©ë¡ ì»´í¬ë„ŒíŠ¸
   - Feature Flagë¡œ ìˆ¨ê¹€

3. feature/user-detail-page (4ì‹œê°„)
   - ì‚¬ìš©ì ìƒì„¸ í˜ì´ì§€
   - ê¸°ì¡´ ëª©ë¡ê³¼ ì—°ê²°

4. feature/user-permissions (6ì‹œê°„)
   - ê¶Œí•œ ì²´í¬ ë¡œì§
   - ë¯¸ë“¤ì›¨ì–´ ì¶”ê°€

5. feature/audit-logging (3ì‹œê°„)
   - ê°ì‚¬ ë¡œê·¸ ê¸°ë¡
   - ë¡œê·¸ ì¡°íšŒ API
```

---

## ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€

### ì‚¬ë¡€ 1: Googleì˜ Monorepo

**ê·œëª¨:**
- 35,000ëª… ì´ìƒì˜ ê°œë°œì
- ë‹¨ì¼ monorepo
- ë§¤ì¼ ìˆ˜ë§Œ ê±´ì˜ commit

**íŠ¹ì§•:**
```
í•˜ë‚˜ì˜ ê±°ëŒ€í•œ trunk
â”œâ”€â”€ google3/
â”‚   â”œâ”€â”€ ads/
â”‚   â”œâ”€â”€ search/
â”‚   â”œâ”€â”€ maps/
â”‚   â”œâ”€â”€ youtube/
â”‚   â””â”€â”€ cloud/
â””â”€â”€ ëª¨ë“  í”„ë¡œì íŠ¸ê°€ ë™ì¼í•œ trunkì—ì„œ ì‘ì—…
```

**ì‘ë™ ë°©ì‹:**
- ëª¨ë“  ê°œë°œìê°€ mainì— ì§ì ‘ commit
- ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ (Continuous Build)
- Presubmit ì²´í¬ë¡œ ì½”ë“œ í’ˆì§ˆ ë³´ì¥
- ë¬¸ì œ ë°œìƒ ì‹œ ìë™ ë¡¤ë°±

### ì‚¬ë¡€ 2: Facebookì˜ ë¹ ë¥¸ ë°°í¬

**ë°°í¬ ì£¼ê¸°:**
- í•˜ë£¨ì— ì—¬ëŸ¬ ë²ˆ í”„ë¡œë•ì…˜ ë°°í¬
- "Move Fast" ë¬¸í™” ë°˜ì˜

**ê¸°ìˆ  ìŠ¤íƒ:**
```javascript
// Feature Flag ì‹œìŠ¤í…œ: Gatekeeper
function NewsFeed() {
  const showNewAlgorithm = useGatekeeper('news_feed_v2');

  if (showNewAlgorithm) {
    return <NewsFeedV2 />;
  }

  return <NewsFeedV1 />;
}

// ì ì§„ì  ë¡¤ì•„ì›ƒ
// 1% â†’ 10% â†’ 50% â†’ 100%
```

### ì‚¬ë¡€ 3: Netflixì˜ Chaos Engineeringê³¼ TBD

**ë„ì „ ê³¼ì œ:**
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ (500+ ì„œë¹„ìŠ¤)
- ë†’ì€ ì•ˆì •ì„± ìš”êµ¬ì‚¬í•­

**í•´ê²° ë°©ë²•:**
```yaml
# Spinnaker ë°°í¬ íŒŒì´í”„ë¼ì¸
stages:
  - name: Canary Deploy (5%)
    duration: 1h
    metrics:
      - errorRate < 0.1%
      - latency < 100ms

  - name: Gradual Rollout (50%)
    duration: 2h

  - name: Full Deploy (100%)
    condition: all_metrics_pass
```

**Feature Flag í™œìš©:**
```java
// A/B í…ŒìŠ¤íŠ¸
public Recommendation getRecommendation(User user) {
    if (featureFlag.isEnabled("new_recommendation_algo", user)) {
        return newAlgorithm.recommend(user);
    }
    return legacyAlgorithm.recommend(user);
}
```

### ì‚¬ë¡€ 4: ì†Œê·œëª¨ ìŠ¤íƒ€íŠ¸ì—…ì˜ MVP ê°œë°œ

**ì‹œë‚˜ë¦¬ì˜¤:**
- 5ëª…ì˜ ê°œë°œ íŒ€
- ë¹ ë¥¸ í”¼ë²— í•„ìš”
- ì œí•œëœ ë¦¬ì†ŒìŠ¤

**êµ¬í˜„:**
```bash
# ë§¤ìš° ë‹¨ìˆœí•œ ì›Œí¬í”Œë¡œìš°
git pull origin main
# ê¸°ëŠ¥ ê°œë°œ (2-3ì‹œê°„)
git add .
git commit -m "Add user profile page"
git push origin main
# CIê°€ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ & ë°°í¬
```

**ì¥ì :**
- í”„ë¡œì„¸ìŠ¤ ì˜¤ë²„í—¤ë“œ ìµœì†Œí™”
- ë¹ ë¥¸ ì‹¤í—˜ê³¼ í•™ìŠµ
- ì‘ì€ íŒ€ì—ì„œ íš¨ìœ¨ì 

### ì‚¬ë¡€ 5: ëŒ€ê·œëª¨ ì—”í„°í”„ë¼ì´ì¦ˆ ì „í™˜ ì‚¬ë¡€

**Before (GitFlow):**
```
Release Cycle: ë¶„ê¸°ë³„ (3ê°œì›”)
Branches: 50+ ì¥ê¸° í”¼ì²˜ ë¸Œëœì¹˜
Integration: ë¦´ë¦¬ìŠ¤ 1ê°œì›” ì „ ì‹œì‘
Bugs: í†µí•© ë‹¨ê³„ì—ì„œ ëŒ€ëŸ‰ ë°œê²¬
```

**After (Trunk-based):**
```
Release Cycle: ì£¼ê°„ (1ì£¼)
Branches: 10-15ê°œ ë‹¨ê¸° ë¸Œëœì¹˜ (ë™ì‹œ)
Integration: ë§¤ì¼
Bugs: ì¦‰ì‹œ ë°œê²¬ ë° ìˆ˜ì •
```

**ì „í™˜ ê³¼ì •:**
1. íŒ€ êµìœ¡ (1ì£¼)
2. CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶• (2ì£¼)
3. Feature Flag ì‹œìŠ¤í…œ ë„ì… (1ì£¼)
4. ì ì§„ì  ì „í™˜ (2ê°œì›”)

**ê²°ê³¼:**
- ë°°í¬ ë¹ˆë„: ë¶„ê¸° 1íšŒ â†’ ì£¼ 1íšŒ (12ë°° ì¦ê°€)
- ë¦¬ë“œ íƒ€ì„: 3ê°œì›” â†’ 1ì£¼ (90% ê°ì†Œ)
- ë²„ê·¸ ë°œê²¬ ì‹œê°„: í‰ê·  2ì£¼ â†’ 1ì¼ (93% ê°ì†Œ)

---

## ì¥ì ê³¼ í•œê³„

### ì¥ì 

#### âœ… ë¨¸ì§€ ì¶©ëŒ ìµœì†Œí™”

**ì´ìœ :**
- ì‘ì€ ë³€ê²½ì„ ìì£¼ í†µí•©í•˜ë¯€ë¡œ ì½”ë“œ ë² ì´ìŠ¤ê°€ í¬ê²Œ ë‹¬ë¼ì§€ì§€ ì•ŠìŒ
- ì¶©ëŒì´ ë°œìƒí•´ë„ ë²”ìœ„ê°€ ì‘ì•„ í•´ê²°ì´ ì‰¬ì›€

```
[ì¥ê¸° ë¸Œëœì¹˜]
Main:    Aâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€B
         â”‚             â”‚
Feature: Aâ”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€C (í° ì¶©ëŒ ê°€ëŠ¥ì„±)

[Trunk-based]
Main:    Aâ”€â—â”€â—â”€â—â”€â—â”€â—â”€â—â”€B
         â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
         â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ â””â”€â”˜ (ì‘ì€ ì¶©ëŒë§Œ ë°œìƒ)
```

#### âœ… ë¹ ë¥¸ í”¼ë“œë°±

```
[ì „í†µì  ë°©ì‹]
ì½”ë“œ ì‘ì„± â†’ 2ì£¼ ëŒ€ê¸° â†’ ë¦¬ë·° â†’ 1ì£¼ ìˆ˜ì • â†’ í†µí•© â†’ ë²„ê·¸ ë°œê²¬
ì´ ì†Œìš”: 4ì£¼

[Trunk-based]
ì½”ë“œ ì‘ì„± â†’ 30ë¶„ ëŒ€ê¸° â†’ ë¦¬ë·° â†’ 1ì‹œê°„ ìˆ˜ì • â†’ í†µí•© â†’ ì¦‰ì‹œ í”¼ë“œë°±
ì´ ì†Œìš”: 2-3ì‹œê°„
```

#### âœ… ì§€ì†ì  í†µí•© ê°•ì œ

```javascript
// ë§¤ì¼ í†µí•©í•˜ë¯€ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì‘ì€ ë‹¨ìœ„ë¡œ ê°œë°œ
// âŒ ë‚˜ìœ ì˜ˆ
function implementPaymentSystem() {
  // 2ì£¼ê°„ ì‘ì—…...
  // 1,000ì¤„ì˜ ì½”ë“œ
}

// âœ… ì¢‹ì€ ì˜ˆ
function addPaymentButton() {
  // 2ì‹œê°„ ì‘ì—…, 50ì¤„
}
function connectPaymentAPI() {
  // 3ì‹œê°„ ì‘ì—…, 80ì¤„
}
function handlePaymentErrors() {
  // 2ì‹œê°„ ì‘ì—…, 60ì¤„
}
```

#### âœ… ë°°í¬ ë¹ˆë„ ì¦ê°€

**ë°ì´í„°:**
- DORA ë©”íŠ¸ë¦­ìŠ¤ì— ë”°ë¥´ë©´, Elite performersëŠ”:
  - í•˜ë£¨ì— ì—¬ëŸ¬ ë²ˆ ë°°í¬
  - Trunk-based Development ì‚¬ìš© ë¹„ìœ¨: 85%
- ë°°í¬ ë¹ˆë„ê°€ ë†’ì„ìˆ˜ë¡:
  - ë¦¬ë“œ íƒ€ì„ ê°ì†Œ
  - ì¥ì•  ë³µêµ¬ ì‹œê°„ ê°ì†Œ
  - ë³€ê²½ ì‹¤íŒ¨ìœ¨ ê°ì†Œ

#### âœ… íŒ€ í˜‘ì—… í–¥ìƒ

```
[ì „í†µì  ë°©ì‹]
ê°œë°œì A: feature/paymentì—ì„œ ì‘ì—… (2ì£¼)
ê°œë°œì B: feature/authì—ì„œ ì‘ì—… (3ì£¼)
â†’ ì„œë¡œì˜ ì‘ì—…ì„ ëª¨ë¦„
â†’ í†µí•© ì‹œì ì— ì¶©ëŒ ë°œê²¬

[Trunk-based]
ê°œë°œì A: ë§¤ì¼ mainì— commit
ê°œë°œì B: ë§¤ì¼ mainì„ pullí•˜ì—¬ Aì˜ ë³€ê²½ì‚¬í•­ í™•ì¸
â†’ ì§€ì†ì  ì˜ì‚¬ì†Œí†µ
â†’ ì¶©ëŒì„ ë¯¸ë¦¬ ë°œê²¬í•˜ê³  ì¡°ìœ¨
```

### í•œê³„

#### âš ï¸ ë†’ì€ ìë™í™” ìš”êµ¬ì‚¬í•­

**í•„ìˆ˜ ì¸í”„ë¼:**
```yaml
# ìµœì†Œ ìš”êµ¬ì‚¬í•­
CI/CD:
  - ìë™ í…ŒìŠ¤íŠ¸: ìœ ë‹›, í†µí•©, E2E
  - ìë™ ë°°í¬: Staging, Production
  - ìë™ ë¡¤ë°±: ë¬¸ì œ ê°ì§€ ì‹œ

Monitoring:
  - ì—ëŸ¬ ì¶”ì 
  - ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
  - ì‚¬ìš©ì í–‰ë™ ë¶„ì„

Feature Flags:
  - Flag ê´€ë¦¬ ì‹œìŠ¤í…œ
  - ì ì§„ì  ë¡¤ì•„ì›ƒ
  - ê¸´ê¸‰ ì°¨ë‹¨ ê¸°ëŠ¥
```

**ë¬¸ì œ:**
- ì´ˆê¸° êµ¬ì¶• ë¹„ìš©ì´ ë†’ìŒ (2-4ì£¼)
- ìœ ì§€ë³´ìˆ˜ í•„ìš”
- íŒ€ì˜ ê¸°ìˆ ì  ì„±ìˆ™ë„ í•„ìš”

#### âš ï¸ íŒ€ ê·œìœ¨ í•„ìˆ˜

**ìš”êµ¬ì‚¬í•­:**
- ì‘ì€ ë‹¨ìœ„ë¡œ ì‘ì—…í•˜ëŠ” ìŠµê´€
- ë¹ˆë²ˆí•œ commitê³¼ push
- ì¦‰ê°ì ì¸ ì½”ë“œ ë¦¬ë·°
- í…ŒìŠ¤íŠ¸ ì‘ì„± ë¬¸í™”

```
[ì‹¤íŒ¨ ì‚¬ë¡€]
âŒ ê°œë°œìê°€ í° ë³€ê²½ì„ í•œêº¼ë²ˆì— commit
âŒ ë¦¬ë·°ê°€ ì§€ì—°ë˜ì–´ ë¸Œëœì¹˜ê°€ ì¥ê¸°í™”
âŒ í…ŒìŠ¤íŠ¸ ì—†ì´ commití•˜ì—¬ ë¹Œë“œ ì‹¤íŒ¨
âŒ Feature Flagë¥¼ ì œê±°í•˜ì§€ ì•Šì•„ ê¸°ìˆ  ë¶€ì±„ ëˆ„ì 
```

#### âš ï¸ Feature Flag ê´€ë¦¬ ë³µì¡ì„±

**ë¬¸ì œì :**
```javascript
// âŒ Flag ì§€ì˜¥ (Feature Flag Hell)
function Component() {
  const flags = useFeatureFlags();

  if (flags.newUI && flags.experimentalFeature) {
    if (flags.betaMode || flags.premiumUser) {
      return <VersionA />;
    }
    return <VersionB />;
  } else if (flags.newUI) {
    return <VersionC />;
  }
  return <VersionD />;
}

// í…ŒìŠ¤íŠ¸ ì¡°í•©ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€
// 2^nê°œì˜ ê²½ìš°ì˜ ìˆ˜
```

**í•´ê²°ì±…:**
- Flag ìˆ˜ëª… ê´€ë¦¬
- ì •ê¸°ì ì¸ Flag ì •ë¦¬
- Flagë³„ ì±…ì„ì ì§€ì •
- ìµœëŒ€ ìˆ˜ëª… ì„¤ì • (ì˜ˆ: 3ê°œì›”)

#### âš ï¸ ì í•©í•˜ì§€ ì•Šì€ ê²½ìš°

**1. ì—¬ëŸ¬ ë²„ì „ ë™ì‹œ ìœ ì§€ í•„ìš”**
```
Linux Kernel:
v6.1 LTS (2024ë…„ê¹Œì§€ ì§€ì›)
v6.6 LTS (2026ë…„ê¹Œì§€ ì§€ì›)
v6.7 (í˜„ì¬ ê°œë°œ)

â†’ ê° ë²„ì „ë³„ë¡œ ë…ë¦½ì ì¸ ë¸Œëœì¹˜ í•„ìš”
â†’ Trunk-basedëŠ” ë¶€ì í•©
```

**2. ì—„ê²©í•œ ê·œì œ ì‚°ì—…**
```
ì˜ë£Œ ì†Œí”„íŠ¸ì›¨ì–´, ê¸ˆìœµ ì‹œìŠ¤í…œ:
- ëª¨ë“  ë³€ê²½ì— ëŒ€í•œ ìŠ¹ì¸ í•„ìš”
- ë³€ê²½ ì´ë ¥ì˜ ëª…í™•í•œ ë¶„ë¦¬
- ê°ì‚¬ ì¶”ì  (Audit Trail)

â†’ GitFlowê°€ ë” ì í•©í•  ìˆ˜ ìˆìŒ
```

**3. íŒ€ì˜ ê¸°ìˆ  ìˆ˜ì¤€ì´ ë‚®ì€ ê²½ìš°**
```
ì£¼ë‹ˆì–´ ê°œë°œì ìœ„ì£¼ì˜ íŒ€:
- ì‘ì€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ê¸° ì–´ë ¤ì›€
- í…ŒìŠ¤íŠ¸ ì‘ì„± ê²½í—˜ ë¶€ì¡±
- CI/CD ì´í•´ë„ ë‚®ìŒ

â†’ ë‹¨ê³„ì  ì „í™˜ í•„ìš” (GitFlow â†’ GitHub Flow â†’ TBD)
```

### íŠ¸ë ˆì´ë“œì˜¤í”„

| ì¸¡ë©´ | GitFlow | Trunk-based |
|------|---------|-------------|
| **í•™ìŠµ ê³¡ì„ ** | ë³µì¡í•¨ | ë‹¨ìˆœí•¨ |
| **ì´ˆê¸° ì„¤ì •** | ë‚®ìŒ | ë†’ìŒ (CI/CD í•„ìˆ˜) |
| **ë°°í¬ ë¹ˆë„** | ë‚®ìŒ (ì›”/ë¶„ê¸°) | ë†’ìŒ (ì¼/ì‹œê°„) |
| **ë¨¸ì§€ ì¶©ëŒ** | ì¦ê³  ë³µì¡í•¨ | ë“œë¬¼ê³  ê°„ë‹¨í•¨ |
| **ë¡¤ë°±** | ì–´ë ¤ì›€ | ì‰¬ì›€ (Flag ë„ê¸°) |
| **ì í•©í•œ íŒ€** | ì£¼ë‹ˆì–´ ìœ„ì£¼ | ì‹œë‹ˆì–´ ìœ„ì£¼ |
| **ì í•©í•œ ê·œëª¨** | ì¤‘ì†Œí˜• | ëª¨ë“  ê·œëª¨ |

**ì„ íƒ ê°€ì´ë“œ:**

```
Trunk-basedë¥¼ ì„ íƒí•˜ì„¸ìš”:
âœ… CI/CDë¥¼ êµ¬ì¶•í•  ì˜ì§€ì™€ ìì›ì´ ìˆìŒ
âœ… íŒ€ì´ ì‘ì€ ë‹¨ìœ„ë¡œ ì‘ì—…í•  ìˆ˜ ìˆìŒ
âœ… ë¹ ë¥¸ ë°°í¬ê°€ ì¤‘ìš”í•¨
âœ… ë‹¨ì¼ í”„ë¡œë•ì…˜ ë²„ì „ ìœ ì§€

GitFlowë¥¼ ì„ íƒí•˜ì„¸ìš”:
âœ… ì—¬ëŸ¬ ë²„ì „ì„ ë™ì‹œì— ìœ ì§€í•´ì•¼ í•¨
âœ… ë¦´ë¦¬ìŠ¤ ì¼ì •ì´ ë¯¸ë¦¬ ì •í•´ì§ (ë¶„ê¸°ë³„ ë“±)
âœ… ì—„ê²©í•œ ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤ê°€ í•„ìš”í•¨
âœ… íŒ€ì˜ ê¸°ìˆ ì  ì„±ìˆ™ë„ê°€ ë‚®ìŒ
```

---

## ê´€ë ¨ ê°œë…

### GitHub Flow

**íŠ¹ì§•:**
- GitFlowë³´ë‹¤ ë‹¨ìˆœ, TBDë³´ë‹¤ëŠ” ìœ ì—°
- main ë¸Œëœì¹˜ëŠ” í•­ìƒ ë°°í¬ ê°€ëŠ¥
- í”¼ì²˜ ë¸Œëœì¹˜ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ ì§§ê²Œ ìœ ì§€

**ì›Œí¬í”Œë¡œìš°:**
```bash
# 1. mainì—ì„œ ë¸Œëœì¹˜ ìƒì„±
git checkout -b feature/add-user-search

# 2. ì‘ì—… ë° commit (ë©°ì¹ ~1ì£¼)
git commit -m "Add search functionality"

# 3. PR ìƒì„± ë° ë¦¬ë·°

# 4. mainì— merge í›„ ì¦‰ì‹œ ë°°í¬
git checkout main
git merge feature/add-user-search
# ìë™ ë°°í¬

# 5. ë¸Œëœì¹˜ ì‚­ì œ
git branch -d feature/add-user-search
```

**vs Trunk-based:**
```
GitHub Flow:
- í”¼ì²˜ ë¸Œëœì¹˜: ë©°ì¹ ~1ì£¼
- PR ë¦¬ë·° í•„ìˆ˜
- merge í›„ ë°°í¬

Trunk-based (ì†Œê·œëª¨):
- í”¼ì²˜ ë¸Œëœì¹˜: ìˆ˜ì‹œê°„~1ì¼
- PR ì˜µì…˜ (ì§ì ‘ commitë„ ê°€ëŠ¥)
- ë§¤ì¼ ì—¬ëŸ¬ ë²ˆ ë°°í¬
```

### GitLab Flow

**íŠ¹ì§•:**
- í™˜ê²½ë³„ ë¸Œëœì¹˜ ì¶”ê°€ (production, staging ë“±)
- GitHub Flow + í™˜ê²½ ê´€ë¦¬

```
main â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â—
           â”‚      â”‚      â”‚
staging    â—â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â—
           â”‚      â”‚
production â—â”€â”€â”€â”€â”€â”€â—
```

**ì›Œí¬í”Œë¡œìš°:**
```bash
# 1. feature ê°œë°œ
git checkout -b feature/new-api
git commit -m "Add new API endpoint"

# 2. mainìœ¼ë¡œ merge
git checkout main
git merge feature/new-api

# 3. staging ë°°í¬
git checkout staging
git merge main
# ë°°í¬ to staging

# 4. ê²€ì¦ í›„ production ë°°í¬
git checkout production
git merge staging
# ë°°í¬ to production
```

### GitFlow (ìƒì„¸ ë¹„êµ)

**ë¸Œëœì¹˜ êµ¬ì¡°:**
```
master      â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â—
            â”‚         â”‚         â”‚
release     â”‚    â—â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â—
            â”‚    â”‚
develop     â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—
            â”‚    â”‚    â”‚    â”‚
feature/A   â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—    â”‚
            â”‚              â”‚
feature/B   â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—
```

**vs Trunk-based ë¹„êµ:**

| ìš”ì†Œ | GitFlow | Trunk-based |
|------|---------|-------------|
| **ë¸Œëœì¹˜ ìˆ˜** | 5ì¢…ë¥˜ (main, develop, feature, release, hotfix) | 1ì¢…ë¥˜ (main) |
| **ì¥ê¸° ë¸Œëœì¹˜** | 2ê°œ (main, develop) | 1ê°œ (main) |
| **í†µí•© ì£¼ê¸°** | ë¦´ë¦¬ìŠ¤ ì‹œì  (ë¶„ê¸°ë³„) | ë§¤ì¼ |
| **ë¦´ë¦¬ìŠ¤** | release ë¸Œëœì¹˜ ìƒì„± | mainì—ì„œ ì§ì ‘ |
| **í•«í”½ìŠ¤** | hotfix ë¸Œëœì¹˜ ìƒì„± | mainì—ì„œ ìˆ˜ì • í›„ ë°°í¬ |

**ì „í™˜ ì‹œë‚˜ë¦¬ì˜¤:**
```
[Phase 1: GitFlow â†’ GitHub Flow]
- develop ë¸Œëœì¹˜ ì œê±°
- mainë§Œ ì‚¬ìš©
- í”¼ì²˜ ë¸Œëœì¹˜ ìˆ˜ëª… ë‹¨ì¶• (2ì£¼ â†’ 1ì£¼)

[Phase 2: GitHub Flow â†’ Trunk-based]
- í”¼ì²˜ ë¸Œëœì¹˜ ë” ì§§ê²Œ (1ì£¼ â†’ 1-2ì¼)
- Feature Flag ë„ì…
- CI/CD ìë™í™” ê°•í™”

[Phase 3: Pure Trunk-based]
- ì‘ì€ íŒ€ì€ ì§ì ‘ mainì— commit
- Feature Flagë¡œ ëª¨ë“  ë¯¸ì™„ì„± ê¸°ëŠ¥ ì œì–´
```

---

## ë” ì•Œì•„ë³´ê¸°

### ì‹¬í™” í•™ìŠµ

**1. Branch by Abstraction**
- í° ë¦¬íŒ©í† ë§ì„ ì‘ì€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ëŠ” ê¸°ë²•
- Feature Flagì™€ í•¨ê»˜ ì‚¬ìš©

```javascript
// Step 1: ì¶”ìƒí™” ê³„ì¸µ ì¶”ê°€
interface PaymentGateway {
  processPayment(amount: number): Promise<Result>;
}

// Step 2: êµ¬í˜„ì²´ ì „í™˜ (Feature Flagë¡œ ì œì–´)
const gateway: PaymentGateway = flags.newGateway
  ? new StripeGateway()
  : new LegacyGateway();

// Step 3: ì ì§„ì ìœ¼ë¡œ ìƒˆ êµ¬í˜„ìœ¼ë¡œ ì „í™˜
// Step 4: ë ˆê±°ì‹œ ì œê±°
```

**2. Continuous Deployment**
- mainì— mergeë˜ë©´ ìë™ìœ¼ë¡œ í”„ë¡œë•ì…˜ ë°°í¬
- ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸ í•„ìˆ˜

```yaml
# CD íŒŒì´í”„ë¼ì¸ ì˜ˆì‹œ
on:
  push:
    branches: [main]

jobs:
  deploy:
    steps:
      - run: npm test
      - run: npm run build
      - run: deploy to production
      - run: smoke tests
      - if: failure()
        run: automatic rollback
```

**3. íŒ€ í† í´ë¡œì§€ì™€ TBD**
- Stream-aligned teams
- Platform teams
- Complicated-subsystem teams

### ì‹¤ìŠµ

**íŠœí† ë¦¬ì–¼: ì‹¤ì œë¡œ TBD ì ìš©í•˜ê¸°**
1. [ê¸°ì´ˆ ì‹¤ìŠµ í”„ë¡œì íŠ¸](https://github.com/trunk-based-dev/tutorial)
2. [Feature Flag ì‹¤ìŠµ](https://www.launchdarkly.com/tutorials)
3. [CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•](https://circleci.com/docs/tutorials/)

### ê´€ë ¨ ìë£Œ

**ì±…:**
- "Continuous Delivery" by Jez Humble & David Farley
- "Accelerate" by Nicole Forsgren, Jez Humble & Gene Kim
- "The DevOps Handbook" by Gene Kim et al.

**ì›¹ì‚¬ì´íŠ¸:**
- [trunkbaseddevelopment.com](https://trunkbaseddevelopment.com/) - ê³µì‹ ê°€ì´ë“œ
- [Martin Fowler - Feature Toggles](https://martinfowler.com/articles/feature-toggles.html)

**ë„êµ¬:**
- **Feature Flags:** LaunchDarkly, Unleash, Flagsmith
- **CI/CD:** GitHub Actions, GitLab CI, CircleCI
- **Monitoring:** Datadog, New Relic, Sentry

---

## ê²°ë¡ 

Trunk-based DevelopmentëŠ” ë‹¨ìˆœíˆ ë¸Œëœì¹˜ ì „ëµì´ ì•„ë‹ˆë¼ íŒ€ì˜ ë¬¸í™”ì™€ í”„ë¡œì„¸ìŠ¤ë¥¼ ë³€í™”ì‹œí‚¤ëŠ” ì ‘ê·¼ ë°©ì‹ì…ë‹ˆë‹¤. ë¹ ë¥¸ í”¼ë“œë°±, ì§€ì†ì  í†µí•©, ë†’ì€ ë°°í¬ ë¹ˆë„ë¥¼ ì‹¤í˜„í•  ìˆ˜ ìˆì§€ë§Œ, ì´ë¥¼ ìœ„í•´ì„œëŠ” íƒ„íƒ„í•œ ìë™í™” ì¸í”„ë¼ì™€ íŒ€ì˜ ë†’ì€ ê·œìœ¨ì´ í•„ìš”í•©ë‹ˆë‹¤.

**í•µì‹¬ ìš”ì•½:**
- ëª¨ë“  ê°œë°œìê°€ í•˜ë‚˜ì˜ trunk(main) ë¸Œëœì¹˜ì—ì„œ ì‘ì—…
- ì§§ì€ ìƒëª…ì£¼ê¸°ì˜ í”¼ì²˜ ë¸Œëœì¹˜ (ìµœëŒ€ 1-2ì¼)
- Feature Flagë¡œ ë¯¸ì™„ì„± ê¸°ëŠ¥ ì œì–´
- CI/CDì˜ í•„ìˆ˜ ì „ì œì¡°ê±´
- ì‘ì€ ë°°ì¹˜ í¬ê¸°ë¡œ ìœ„í—˜ ê°ì†Œ

íŒ€ì˜ ìƒí™©ì— ë§ê²Œ ì ì§„ì ìœ¼ë¡œ ë„ì…í•˜ê³ , ì§€ì†ì ìœ¼ë¡œ ê°œì„ í•´ë‚˜ê°€ëŠ” ê²ƒì´ ì„±ê³µì˜ ì—´ì‡ ì…ë‹ˆë‹¤.

---

**ë¬¸ì„œ ë²„ì „:** 1.0
**ìµœì¢… ìˆ˜ì •ì¼:** 2025-12-22
**ì‘ì„±ì:** Claude with Technical Writing Skill
**ì°¸ê³  ìë£Œ:** trunkbaseddevelopment.com, Atlassian, LaunchDarkly, Google Engineering Practices
