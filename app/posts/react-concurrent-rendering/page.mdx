---
title: 'React Concurrent Rendering ì™„ë²½ ê°€ì´ë“œ'
date: '2025-01-03'
description: 'React Concurrent Renderingì€ React 18ì—ì„œ ë„ì…ëœ ìƒˆë¡œìš´ ë Œë”ë§ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ, UI ì—…ë°ì´íŠ¸ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì¡°ì •í•˜ì—¬ ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•©ë‹ˆë‹¤. ì´ ê°€ì´ë“œì—ì„œ Concurrent Renderingì˜ í•µì‹¬ ê°œë…ê³¼ ì‹¤ì „ í™œìš©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.'
tags: ['React', 'Concurrent Rendering', 'ì„±ëŠ¥ ìµœì í™”', 'startTransition', 'Suspense']
---

import { JsonLd } from '~/app/_components'

<JsonLd
  metadata={{
    title: 'React Concurrent Rendering ì™„ë²½ ê°€ì´ë“œ',
    description: 'React Concurrent Renderingì€ React 18ì—ì„œ ë„ì…ëœ ìƒˆë¡œìš´ ë Œë”ë§ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ, UI ì—…ë°ì´íŠ¸ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì¡°ì •í•˜ì—¬ ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•©ë‹ˆë‹¤. ì´ ê°€ì´ë“œì—ì„œ Concurrent Renderingì˜ í•µì‹¬ ê°œë…ê³¼ ì‹¤ì „ í™œìš©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.',
    date: '2025-01-03',
    slug: 'react-concurrent-rendering',
    tags: ['React', 'Concurrent Rendering', 'ì„±ëŠ¥ ìµœì í™”', 'startTransition', 'Suspense'],
  }}
/>

# React Concurrent Rendering ì´í•´í•˜ê¸°

## ê°œìš”

React Concurrent Renderingì€ React 18ì—ì„œ ë„ì…ëœ ìƒˆë¡œìš´ ë Œë”ë§ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ, UI ì—…ë°ì´íŠ¸ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì¡°ì •í•˜ì—¬ ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì„ í™œìš©í•˜ë©´ ì¤‘ìš”í•œ ì—…ë°ì´íŠ¸ëŠ” ì¦‰ì‹œ ì²˜ë¦¬í•˜ê³ , ëœ ì¤‘ìš”í•œ ì—…ë°ì´íŠ¸ëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì²˜ë¦¬í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°˜ì‘ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê¸°ì¡´ Reactì˜ ë™ê¸°ì  ë Œë”ë§ ë°©ì‹ê³¼ ë‹¬ë¦¬, Concurrent Renderingì€ ë Œë”ë§ ì‘ì—…ì„ ì¤‘ë‹¨í•˜ê³  ì¬ê°œí•  ìˆ˜ ìˆì–´ ë” ìœ ì—°í•œ UI ì—…ë°ì´íŠ¸ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## ë°°ê²½

### ì™œ í•„ìš”í•œê°€?

ê¸°ì¡´ ReactëŠ” ë Œë”ë§ ì‘ì—…ì„ í•œ ë²ˆ ì‹œì‘í•˜ë©´ ì™„ë£Œí•  ë•Œê¹Œì§€ ì¤‘ë‹¨í•  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œë¥¼ ì•¼ê¸°í–ˆìŠµë‹ˆë‹¤:

**ë³µì¡í•œ ëŒ€ì‹œë³´ë“œ ì˜ˆì‹œ**
- ì‚¬ìš©ìê°€ ê²€ìƒ‰ì°½ì— í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•  ë•Œ
- ë™ì‹œì— ìˆ˜ì²œ ê°œì˜ ë°ì´í„°ë¥¼ ë Œë”ë§í•˜ëŠ” í…Œì´ë¸”ì´ ì—…ë°ì´íŠ¸ë  ë•Œ
- ì…ë ¥ì´ ëŠë ¤ì§€ê±°ë‚˜ í™”ë©´ì´ ë©ˆì¶”ëŠ” í˜„ìƒ ë°œìƒ

```javascript
// ê¸°ì¡´ ë°©ì‹ì˜ ë¬¸ì œì 
function Dashboard() {
  const [searchText, setSearchText] = useState('');
  const [data, setData] = useState(largeDataset);

  // ì…ë ¥ê³¼ ë°ì´í„° í•„í„°ë§ì´ ë™ì‹œì— ë°œìƒ
  const filteredData = data.filter(item =>
    item.name.toLowerCase().includes(searchText.toLowerCase())
  );

  return (
    <div>
      <input
        value={searchText}
        onChange={(e) => setSearchText(e.target.value)}
        // ğŸŒ ì…ë ¥ì´ ëŠë ¤ì§
      />
      <DataTable data={filteredData} />
      {/* ğŸ“Š ìˆ˜ì²œ ê°œì˜ í–‰ì„ ë Œë”ë§í•˜ëŠë¼ ì „ì²´ UIê°€ ë¸”ë¡œí‚¹ë¨ */}
    </div>
  );
}
```

**ì‹¤ë¬´ì—ì„œ ê²ªëŠ” ë¬¸ì œ**
- OMS/WMS ê°™ì€ ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œìŠ¤í…œì—ì„œ ê²€ìƒ‰/í•„í„°ë§ ì‹œ UI ì‘ë‹µ ì§€ì—°
- ë³µì¡í•œ í¼ì—ì„œ íƒ€ì´í•‘ ì§€ì—°
- ì°¨íŠ¸ë‚˜ ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸ ì¤‘ ì‚¬ìš©ì ì¸í„°ë™ì…˜ ì°¨ë‹¨

### ë“±ì¥ ì´ì „ì˜ ë°©ì‹

React 18 ì´ì „ì—ëŠ” ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´:

```javascript
// ë°©ë²• 1: debounce/throttle (ë¶ˆì™„ì „í•œ í•´ê²°ì±…)
const debouncedSearch = debounce(setSearchText, 300);

// ë°©ë²• 2: setTimeoutìœ¼ë¡œ ìˆ˜ë™ ìš°ì„ ìˆœìœ„ ì¡°ì •
setTimeout(() => {
  setHeavyData(newData);
}, 0);

// ë°©ë²• 3: Web Worker ì‚¬ìš© (ë³µì¡ë„ ì¦ê°€)
const worker = new Worker('data-processor.js');
```

ì´ëŸ¬í•œ ë°©ë²•ë“¤ì€:
- ê°œë°œìê°€ ì§ì ‘ ìš°ì„ ìˆœìœ„ë¥¼ ê´€ë¦¬í•´ì•¼ í•¨
- ì½”ë“œ ë³µì¡ë„ê°€ ì¦ê°€
- ëª¨ë“  ìƒí™©ì—ì„œ ì¼ê´€ë˜ê²Œ ì‘ë™í•˜ì§€ ì•ŠìŒ

## ë™ì‘ ì›ë¦¬

### í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜

Concurrent Renderingì€ ë‹¤ìŒ 3ë‹¨ê³„ë¡œ ì‘ë™í•©ë‹ˆë‹¤:

1. **ë Œë”ë§ ì¤‘ë‹¨ ê°€ëŠ¥ì„±**: ë Œë”ë§ ì‘ì—…ì„ ì‘ì€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ í•„ìš” ì‹œ ì¤‘ë‹¨í•˜ê³  ì¬ê°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

2. **ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ìŠ¤ì¼€ì¤„ë§**: ì—…ë°ì´íŠ¸ì— ìš°ì„ ìˆœìœ„ë¥¼ ë¶€ì—¬í•˜ì—¬ ì¤‘ìš”í•œ ì‘ì—…ì„ ë¨¼ì € ì²˜ë¦¬í•©ë‹ˆë‹¤.

3. **ë°±ê·¸ë¼ìš´ë“œ ì¤€ë¹„**: ëœ ì¤‘ìš”í•œ ì—…ë°ì´íŠ¸ëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì¤€ë¹„í•˜ì—¬ ì‚¬ìš©ì ê²½í—˜ì„ í•´ì¹˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### ì‹œê°ì  ì˜ˆì‹œ

```
[ê¸°ì¡´ ë™ê¸° ë Œë”ë§]
ì‚¬ìš©ì ì…ë ¥ â†’ [ë Œë”ë§ ì‘ì—… â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] â†’ í™”ë©´ ì—…ë°ì´íŠ¸
                 â†‘ ì¤‘ë‹¨ ë¶ˆê°€, ëª¨ë“  ì‘ì—… ì™„ë£Œ í•„ìš”

[Concurrent ë Œë”ë§]
ì‚¬ìš©ì ì…ë ¥ â†’ [ê¸´ê¸‰ ì‘ì—… â–ˆâ–ˆ] â†’ í™”ë©´ ì¦‰ì‹œ ì—…ë°ì´íŠ¸
                        â†“
              [ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… â–‘â–‘â–‘â–‘â–‘â–‘] â†’ ë‚˜ì¤‘ì— ì™„ë£Œ
```

### ì½”ë“œë¡œ ì´í•´í•˜ê¸°

React 18ì˜ `createRoot`ë¥¼ ì‚¬ìš©í•˜ë©´ ìë™ìœ¼ë¡œ Concurrent ëª¨ë“œê°€ í™œì„±í™”ë©ë‹ˆë‹¤:

```javascript
// React 18 - Concurrent Mode í™œì„±í™”
import { createRoot } from 'react-dom/client';

const root = createRoot(document.getElementById('root'));
root.render(<App />);
```

```javascript
// React 17 ì´í•˜ - ë ˆê±°ì‹œ ë™ê¸° ëª¨ë“œ
import ReactDOM from 'react-dom';

ReactDOM.render(<App />, document.getElementById('root'));
```

## ì£¼ìš” íŠ¹ì§•

### íŠ¹ì§• 1: ìë™ ë°°ì¹­ (Automatic Batching)

React 18ì—ì„œëŠ” **ëª¨ë“  ì—…ë°ì´íŠ¸**ê°€ ìë™ìœ¼ë¡œ ë°°ì¹­ë©ë‹ˆë‹¤.

**React 17 ì´í•˜**
```javascript
function handleClick() {
  // Promise, setTimeout, ë„¤ì´í‹°ë¸Œ ì´ë²¤íŠ¸ì—ì„œëŠ” ë°°ì¹­ ì•ˆë¨
  setTimeout(() => {
    setCount(c => c + 1);  // ë¦¬ë Œë”ë§ 1
    setFlag(f => !f);      // ë¦¬ë Œë”ë§ 2
    // ì´ 2ë²ˆ ë¦¬ë Œë”ë§
  }, 1000);
}
```

**React 18 (Concurrent Mode)**
```javascript
function handleClick() {
  // ì–´ë””ì„œë“  ë°°ì¹­ë¨
  setTimeout(() => {
    setCount(c => c + 1);
    setFlag(f => !f);
    // ì´ 1ë²ˆ ë¦¬ë Œë”ë§ âœ¨
  }, 1000);
}
```

**ì‹¤ë¬´ ì˜ˆì‹œ: í¼ ì œì¶œ ìµœì í™”**
```javascript
async function handleSubmit(formData) {
  // API í˜¸ì¶œ í›„ ì—¬ëŸ¬ ìƒíƒœ ì—…ë°ì´íŠ¸
  const result = await saveOrder(formData);

  // React 18ì—ì„œëŠ” ì´ ëª¨ë“  ì—…ë°ì´íŠ¸ê°€ í•˜ë‚˜ë¡œ ë°°ì¹­ë¨
  setOrders(prev => [...prev, result]);
  setIsLoading(false);
  setSuccess(true);
  setFormData(initialState);
  // ë‹¨ 1ë²ˆë§Œ ë¦¬ë Œë”ë§! ğŸš€
}
```

### íŠ¹ì§• 2: Transitions (startTransition)

ê¸´ê¸‰í•˜ì§€ ì•Šì€ ì—…ë°ì´íŠ¸ë¥¼ í‘œì‹œí•˜ì—¬ ìš°ì„ ìˆœìœ„ë¥¼ ë‚®ì¶¥ë‹ˆë‹¤.

```javascript
import { startTransition } from 'react';

function SearchPage() {
  const [searchText, setSearchText] = useState('');
  const [results, setResults] = useState([]);

  function handleChange(e) {
    // ê¸´ê¸‰ ì—…ë°ì´íŠ¸: ì…ë ¥ í•„ë“œëŠ” ì¦‰ì‹œ ë°˜ì˜
    setSearchText(e.target.value);

    // ë¹„ê¸´ê¸‰ ì—…ë°ì´íŠ¸: ê²€ìƒ‰ ê²°ê³¼ëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì²˜ë¦¬
    startTransition(() => {
      const filtered = performExpensiveSearch(e.target.value);
      setResults(filtered);
    });
  }

  return (
    <div>
      <input value={searchText} onChange={handleChange} />
      {/* ì…ë ¥ì€ í•­ìƒ ë¶€ë“œëŸ½ê²Œ ë™ì‘ âœ¨ */}

      <SearchResults items={results} />
      {/* ë¬´ê±°ìš´ ë Œë”ë§ì´ì§€ë§Œ ì…ë ¥ì„ ë°©í•´í•˜ì§€ ì•ŠìŒ */}
    </div>
  );
}
```

**useTransition í›… ì‚¬ìš©**
```javascript
import { useTransition } from 'react';

function FilterList({ items }) {
  const [isPending, startTransition] = useTransition();
  const [filter, setFilter] = useState('');
  const [displayedItems, setDisplayedItems] = useState(items);

  function handleFilterChange(value) {
    setFilter(value);

    startTransition(() => {
      // ë¬´ê±°ìš´ í•„í„°ë§ ì‘ì—…
      const filtered = items.filter(item =>
        item.name.toLowerCase().includes(value.toLowerCase())
      );
      setDisplayedItems(filtered);
    });
  }

  return (
    <div>
      <input
        value={filter}
        onChange={(e) => handleFilterChange(e.target.value)}
      />

      {isPending && <Spinner />}
      {/* ë¡œë”© í‘œì‹œë¡œ UX ê°œì„  */}

      <div style={{ opacity: isPending ? 0.5 : 1 }}>
        {displayedItems.map(item => (
          <Item key={item.id} {...item} />
        ))}
      </div>
    </div>
  );
}
```

### íŠ¹ì§• 3: Suspense for Data Fetching

ë°ì´í„° ë¡œë”© ìƒíƒœë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.

```javascript
import { Suspense } from 'react';

function OrderManagementSystem() {
  return (
    <div>
      <h1>ì£¼ë¬¸ ê´€ë¦¬</h1>

      <Suspense fallback={<OrdersLoading />}>
        <OrderList />
      </Suspense>

      <Suspense fallback={<StatsLoading />}>
        <OrderStats />
      </Suspense>
    </div>
  );
}

// OrderListì™€ OrderStatsê°€ ë…ë¦½ì ìœ¼ë¡œ ë¡œë”©ë¨
// í•˜ë‚˜ê°€ ëŠë ¤ë„ ë‹¤ë¥¸ ê²ƒì€ í‘œì‹œ ê°€ëŠ¥
```

**React Query/SWRì™€ í•¨ê»˜ ì‚¬ìš©**
```javascript
import { useQuery } from '@tanstack/react-query';
import { Suspense } from 'react';

function OrderList() {
  // suspense: true ì˜µì…˜ìœ¼ë¡œ Suspense í™œì„±í™”
  const { data } = useQuery({
    queryKey: ['orders'],
    queryFn: fetchOrders,
    suspense: true,
  });

  return (
    <div>
      {data.orders.map(order => (
        <OrderItem key={order.id} order={order} />
      ))}
    </div>
  );
}

// ì‚¬ìš©
<Suspense fallback={<Loading />}>
  <OrderList />
</Suspense>
```

### íŠ¹ì§• 4: useDeferredValue

ê°’ì˜ ì—…ë°ì´íŠ¸ë¥¼ ì§€ì—°ì‹œì¼œ ì„±ëŠ¥ì„ ìµœì í™”í•©ë‹ˆë‹¤.

```javascript
import { useDeferredValue, useMemo } from 'react';

function ProductSearch({ searchQuery }) {
  // searchQueryëŠ” ì¦‰ì‹œ ì—…ë°ì´íŠ¸
  // deferredQueryëŠ” ì§€ì—° ì—…ë°ì´íŠ¸ (ëœ ê¸´ê¸‰)
  const deferredQuery = useDeferredValue(searchQuery);

  // deferredQueryë¥¼ ì‚¬ìš©í•œ ë¬´ê±°ìš´ ê³„ì‚°
  const results = useMemo(() =>
    searchProducts(deferredQuery),
    [deferredQuery]
  );

  return (
    <div>
      <input
        value={searchQuery}
        // íƒ€ì´í•‘ì€ í•­ìƒ ë¶€ë“œëŸ½ê²Œ âœ¨
      />

      {/* ê²€ìƒ‰ ê²°ê³¼ëŠ” ì§€ì—°ë˜ì–´ ë Œë”ë§ */}
      <div style={{ opacity: deferredQuery !== searchQuery ? 0.5 : 1 }}>
        {results.map(product => (
          <ProductCard key={product.id} {...product} />
        ))}
      </div>
    </div>
  );
}
```

## ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€

### ì‚¬ë¡€ 1: ëŒ€ìš©ëŸ‰ ë°ì´í„° í…Œì´ë¸” (OMS/WMS)

```javascript
import { useState, useTransition } from 'react';

function WarehouseInventory() {
  const [isPending, startTransition] = useTransition();
  const [searchTerm, setSearchTerm] = useState('');
  const [sortConfig, setSortConfig] = useState({ key: 'name', direction: 'asc' });
  const [displayedItems, setDisplayedItems] = useState(inventoryData);

  function handleSearch(value) {
    // ê²€ìƒ‰ì–´ ì…ë ¥ì€ ì¦‰ì‹œ ë°˜ì˜
    setSearchTerm(value);

    // ë°ì´í„° í•„í„°ë§ì€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ
    startTransition(() => {
      const filtered = inventoryData.filter(item =>
        item.name.toLowerCase().includes(value.toLowerCase()) ||
        item.sku.toLowerCase().includes(value.toLowerCase())
      );
      setDisplayedItems(filtered);
    });
  }

  function handleSort(key) {
    startTransition(() => {
      const sorted = [...displayedItems].sort((a, b) => {
        if (sortConfig.key === key && sortConfig.direction === 'asc') {
          return b[key] > a[key] ? 1 : -1;
        }
        return a[key] > b[key] ? 1 : -1;
      });
      setDisplayedItems(sorted);
      setSortConfig({
        key,
        direction: sortConfig.direction === 'asc' ? 'desc' : 'asc'
      });
    });
  }

  return (
    <div>
      <input
        type="text"
        value={searchTerm}
        onChange={(e) => handleSearch(e.target.value)}
        placeholder="ì¬ê³  ê²€ìƒ‰..."
        // í•­ìƒ ë¶€ë“œëŸ¬ìš´ íƒ€ì´í•‘ ê²½í—˜ âœ¨
      />

      {isPending && (
        <div className="loading-indicator">
          ê²€ìƒ‰ ì¤‘...
        </div>
      )}

      <table style={{ opacity: isPending ? 0.6 : 1 }}>
        <thead>
          <tr>
            <th onClick={() => handleSort('name')}>í’ˆëª…</th>
            <th onClick={() => handleSort('sku')}>SKU</th>
            <th onClick={() => handleSort('quantity')}>ìˆ˜ëŸ‰</th>
            <th onClick={() => handleSort('location')}>ìœ„ì¹˜</th>
          </tr>
        </thead>
        <tbody>
          {displayedItems.map(item => (
            <tr key={item.id}>
              <td>{item.name}</td>
              <td>{item.sku}</td>
              <td>{item.quantity}</td>
              <td>{item.location}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
}
```

### ì‚¬ë¡€ 2: íƒ­ ì „í™˜ ìµœì í™”

```javascript
import { useState, useTransition, Suspense } from 'react';

function OrderDashboard() {
  const [tab, setTab] = useState('pending');
  const [isPending, startTransition] = useTransition();

  function handleTabChange(newTab) {
    startTransition(() => {
      setTab(newTab);
    });
  }

  return (
    <div>
      <nav>
        <button
          onClick={() => handleTabChange('pending')}
          disabled={isPending}
        >
          ëŒ€ê¸° ì¤‘ ì£¼ë¬¸
        </button>
        <button
          onClick={() => handleTabChange('processing')}
          disabled={isPending}
        >
          ì²˜ë¦¬ ì¤‘ ì£¼ë¬¸
        </button>
        <button
          onClick={() => handleTabChange('completed')}
          disabled={isPending}
        >
          ì™„ë£Œëœ ì£¼ë¬¸
        </button>
      </nav>

      {/* íƒ­ ì „í™˜ì´ ë¶€ë“œëŸ½ê³ , ê° íƒ­ì€ ë…ë¦½ì ìœ¼ë¡œ ë¡œë”© */}
      <Suspense fallback={<TabLoading />}>
        <div style={{ opacity: isPending ? 0.7 : 1 }}>
          {tab === 'pending' && <PendingOrders />}
          {tab === 'processing' && <ProcessingOrders />}
          {tab === 'completed' && <CompletedOrders />}
        </div>
      </Suspense>
    </div>
  );
}
```

### ì‚¬ë¡€ 3: ì‹¤ì‹œê°„ í•„í„°ë§ + ì •ë ¬

```javascript
import { useMemo, useDeferredValue } from 'react';

function OrderList({ orders }) {
  const [filters, setFilters] = useState({
    status: 'all',
    dateRange: 'all',
    customer: ''
  });

  // í•„í„° ì…ë ¥ì€ ì¦‰ì‹œ ë°˜ì˜
  // ì‹¤ì œ í•„í„°ë§ ê³„ì‚°ì€ ì§€ì—°
  const deferredFilters = useDeferredValue(filters);

  // ë¬´ê±°ìš´ í•„í„°ë§ + ì •ë ¬ ë¡œì§
  const filteredOrders = useMemo(() => {
    let result = orders;

    if (deferredFilters.status !== 'all') {
      result = result.filter(order => order.status === deferredFilters.status);
    }

    if (deferredFilters.customer) {
      result = result.filter(order =>
        order.customerName.toLowerCase().includes(
          deferredFilters.customer.toLowerCase()
        )
      );
    }

    // ë‚ ì§œ í•„í„°ë§
    if (deferredFilters.dateRange !== 'all') {
      const today = new Date();
      result = result.filter(order => {
        const orderDate = new Date(order.createdAt);
        const daysDiff = Math.floor((today - orderDate) / (1000 * 60 * 60 * 24));

        switch (deferredFilters.dateRange) {
          case 'today': return daysDiff === 0;
          case 'week': return daysDiff <= 7;
          case 'month': return daysDiff <= 30;
          default: return true;
        }
      });
    }

    return result.sort((a, b) =>
      new Date(b.createdAt) - new Date(a.createdAt)
    );
  }, [deferredFilters, orders]);

  const isStale = filters !== deferredFilters;

  return (
    <div>
      {/* í•„í„° UI - í•­ìƒ ë¹ ë¥´ê²Œ ë°˜ì‘ */}
      <OrderFilters
        filters={filters}
        onChange={setFilters}
      />

      {/* í•„í„°ë§ëœ ê²°ê³¼ - ì•½ê°„ ì§€ì—°ë˜ì§€ë§Œ UIëŠ” ë¸”ë¡œí‚¹ ì•ˆë¨ */}
      <div style={{ opacity: isStale ? 0.6 : 1 }}>
        {isStale && <div className="updating">ì—…ë°ì´íŠ¸ ì¤‘...</div>}
        {filteredOrders.map(order => (
          <OrderCard key={order.id} order={order} />
        ))}
      </div>
    </div>
  );
}
```

## ì¥ì ê³¼ í•œê³„

### ì¥ì 

- âœ… **í–¥ìƒëœ UX**: ì‚¬ìš©ì ì¸í„°ë™ì…˜ì´ í•­ìƒ ì¦‰ê°ì ìœ¼ë¡œ ë°˜ì‘í•©ë‹ˆë‹¤.
  ```javascript
  // ì…ë ¥ í•„ë“œê°€ ì ˆëŒ€ ëŠë ¤ì§€ì§€ ì•ŠìŒ
  <input onChange={handleChange} />
  ```

- âœ… **ìë™ ìµœì í™”**: ê°œë°œìê°€ ëª…ì‹œì ìœ¼ë¡œ ìµœì í™”í•˜ì§€ ì•Šì•„ë„ Reactê°€ ìë™ìœ¼ë¡œ ìš°ì„ ìˆœìœ„ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
  ```javascript
  // React 18ì—ì„œëŠ” ìë™ìœ¼ë¡œ ë°°ì¹­ë¨
  setCount(1);
  setName('John');
  // 1ë²ˆë§Œ ë¦¬ë Œë”ë§
  ```

- âœ… **ì ì§„ì  ë„ì…**: ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³ ë„ Concurrent ê¸°ëŠ¥ì„ ì ì§„ì ìœ¼ë¡œ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  ```javascript
  // createRootë§Œ ë³€ê²½í•˜ë©´ ê¸°ë³¸ ê¸°ëŠ¥ í™œì„±í™”
  const root = createRoot(rootElement);
  ```

- âœ… **ë” ë‚˜ì€ ë¡œë”© ê²½í—˜**: Suspenseë¥¼ í™œìš©í•œ ì„ ì–¸ì  ë¡œë”© ìƒíƒœ ê´€ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
  ```javascript
  <Suspense fallback={<Loading />}>
    <HeavyComponent />
  </Suspense>
  ```

### í•œê³„

- âš ï¸ **í•™ìŠµ ê³¡ì„ **: `startTransition`, `useDeferredValue` ë“± ìƒˆë¡œìš´ ê°œë…ì„ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.
  - **í•´ê²°ì±…**: ë¨¼ì € ìë™ ë°°ì¹­ë§Œ í™œìš©í•˜ê³ , í•„ìš”í•  ë•Œ ì ì§„ì ìœ¼ë¡œ ë„ì…í•˜ì„¸ìš”.

- âš ï¸ **ë””ë²„ê¹… ë³µì¡ë„**: ë¹„ë™ê¸°ì  ë Œë”ë§ìœ¼ë¡œ ì¸í•´ ë””ë²„ê¹…ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  ```javascript
  // React DevToolsì˜ Profiler í™œìš© í•„ìˆ˜
  // startTransitionìœ¼ë¡œ ê°ì‹¼ ë¶€ë¶„ì€ ë³„ë„ë¡œ í‘œì‹œë¨
  ```

- âš ï¸ **ê³¼ë„í•œ ì‚¬ìš© ìœ„í—˜**: ëª¨ë“  ì—…ë°ì´íŠ¸ë¥¼ transitionìœ¼ë¡œ ê°ì‹¸ë©´ ì˜¤íˆë ¤ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  ```javascript
  // âŒ ë¶ˆí•„ìš”í•œ ì‚¬ìš©
  startTransition(() => {
    setSimpleFlag(true); // ê°„ë‹¨í•œ ì—…ë°ì´íŠ¸ì—ëŠ” ë¶ˆí•„ìš”
  });

  // âœ… ì ì ˆí•œ ì‚¬ìš©
  startTransition(() => {
    setHeavyData(processLargeDataset()); // ë¬´ê±°ìš´ ê³„ì‚°ì—ë§Œ ì‚¬ìš©
  });
  ```

- âš ï¸ **ì˜¤ë˜ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¸í™˜ì„±**: React 18 ë¯¸ì§€ì› ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### íŠ¸ë ˆì´ë“œì˜¤í”„

**ì–¸ì œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ê°€**
- ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ë Œë”ë§í•˜ëŠ” í…Œì´ë¸”/ë¦¬ìŠ¤íŠ¸
- ë³µì¡í•œ í•„í„°ë§/ì •ë ¬ ê¸°ëŠ¥
- ì‹¤ì‹œê°„ ê²€ìƒ‰ ê¸°ëŠ¥
- ë¬´ê±°ìš´ ì°¨íŠ¸/ê·¸ë˜í”„ ë Œë”ë§
- íƒ­ ì „í™˜ì´ ë§ì€ ëŒ€ì‹œë³´ë“œ

**ì–¸ì œ í”¼í•´ì•¼ í•˜ëŠ”ê°€**
- ê°„ë‹¨í•œ í¼ (ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§)
- ì •ì  ì½˜í…ì¸ ê°€ ì£¼ì¸ í˜ì´ì§€
- ì„±ëŠ¥ ë¬¸ì œê°€ ì—†ëŠ” ì»´í¬ë„ŒíŠ¸
- ë¹ ë¥¸ í”„ë¡œí† íƒ€ì… ë‹¨ê³„

## ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

### 1ë‹¨ê³„: React 18ë¡œ ì—…ê·¸ë ˆì´ë“œ

```bash
npm install react@18 react-dom@18
# ë˜ëŠ”
pnpm add react@18 react-dom@18
```

### 2ë‹¨ê³„: createRootë¡œ ë³€ê²½

```javascript
// Before (React 17)
import ReactDOM from 'react-dom';
ReactDOM.render(<App />, document.getElementById('root'));

// After (React 18)
import { createRoot } from 'react-dom/client';
const root = createRoot(document.getElementById('root'));
root.render(<App />);
```

### 3ë‹¨ê³„: íƒ€ì… ì—…ë°ì´íŠ¸ (TypeScript ì‚¬ìš© ì‹œ)

```bash
npm install --save-dev @types/react@18 @types/react-dom@18
```

```typescript
// tsconfig.json
{
  "compilerOptions": {
    "types": ["react/next", "react-dom/next"]
  }
}
```

### 4ë‹¨ê³„: ì ì§„ì  ê¸°ëŠ¥ ë„ì…

```javascript
// 1. ìë™ ë°°ì¹­ (ë³„ë„ ì‘ì—… ì—†ì´ ìë™ í™œì„±í™”)
// 2. ì„±ëŠ¥ ë¬¸ì œê°€ ìˆëŠ” ê³³ì— startTransition ì ìš©
// 3. Suspenseë¥¼ ì‚¬ìš©í•œ ë°ì´í„° ë¡œë”© ê°œì„  (ì„ íƒ)
```

## ì‹¤ì „ íŒ

### íŒ 1: isPendingìœ¼ë¡œ ë¡œë”© í‘œì‹œ

```javascript
function DataTable() {
  const [isPending, startTransition] = useTransition();
  const [data, setData] = useState([]);

  function handleSort(key) {
    startTransition(() => {
      setData(sortData(data, key));
    });
  }

  return (
    <div>
      {isPending && <ProgressBar />}
      <table className={isPending ? 'opacity-50' : ''}>
        {/* í…Œì´ë¸” ë‚´ìš© */}
      </table>
    </div>
  );
}
```

### íŒ 2: startTransition vs useDeferredValue ì„ íƒ

```javascript
// startTransition: ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ì œì–´í•  ìˆ˜ ìˆì„ ë•Œ
function Component1() {
  const [data, setData] = useState([]);

  function handleClick() {
    startTransition(() => {
      setData(heavyComputation());
    });
  }
}

// useDeferredValue: propsë¡œ ë°›ì€ ê°’ì„ ì§€ì—°ì‹œí‚¬ ë•Œ
function Component2({ searchQuery }) {
  const deferredQuery = useDeferredValue(searchQuery);
  // deferredQuery ì‚¬ìš©
}
```

### íŒ 3: Suspense ê²½ê³„ ì„¤ì •

```javascript
// âœ… ì¢‹ì€ ì˜ˆ: ë…ë¦½ì ì¸ Suspense ê²½ê³„
<div>
  <Suspense fallback={<HeaderSkeleton />}>
    <Header />
  </Suspense>

  <Suspense fallback={<ContentSkeleton />}>
    <MainContent />
  </Suspense>

  <Suspense fallback={<SidebarSkeleton />}>
    <Sidebar />
  </Suspense>
</div>

// âŒ ë‚˜ìœ ì˜ˆ: ì „ì²´ë¥¼ í•˜ë‚˜ì˜ Suspenseë¡œ
<Suspense fallback={<FullPageSkeleton />}>
  <Header />
  <MainContent />
  <Sidebar />
</Suspense>
// í•˜ë‚˜ë¼ë„ ëŠë¦¬ë©´ ì „ì²´ê°€ ëŒ€ê¸°
```

### íŒ 4: React DevTools Profiler í™œìš©

```javascript
// Profilerë¡œ ì„±ëŠ¥ ì¸¡ì •
import { Profiler } from 'react';

function onRender(id, phase, actualDuration) {
  console.log(`${id} (${phase}) took ${actualDuration}ms`);
}

<Profiler id="OrderList" onRender={onRender}>
  <OrderList />
</Profiler>
```

## ê´€ë ¨ ê°œë…

### useTransition vs setTimeout

```javascript
// setTimeout: ë‹¨ìˆœ ì§€ì—°, Reactì˜ ìµœì í™” ì—†ìŒ
setTimeout(() => {
  setData(newData);
}, 0);

// useTransition: Reactì˜ ìš°ì„ ìˆœìœ„ ìŠ¤ì¼€ì¤„ëŸ¬ í™œìš©
startTransition(() => {
  setData(newData);
});
```

### Suspense vs ì¡°ê±´ë¶€ ë Œë”ë§

```javascript
// ì¡°ê±´ë¶€ ë Œë”ë§: ëª…ë ¹ì 
{isLoading ? <Loading /> : <Content />}

// Suspense: ì„ ì–¸ì 
<Suspense fallback={<Loading />}>
  <Content />
</Suspense>
```

## ë” ì•Œì•„ë³´ê¸°

**ê³µì‹ ë¬¸ì„œ**
- [React 18 ê³µì‹ ë¬¸ì„œ](https://react.dev/blog/2022/03/29/react-v18)
- [Concurrent Features](https://react.dev/learn/concurrent-features)

**ì‹¬í™” í•™ìŠµ**
- [useTransition ìƒì„¸ ê°€ì´ë“œ](https://react.dev/reference/react/useTransition)
- [Suspense for Data Fetching](https://react.dev/reference/react/Suspense)
- [useDeferredValue ì‚¬ìš©ë²•](https://react.dev/reference/react/useDeferredValue)

**ì‹¤ìŠµ ìë£Œ**
- [React 18 ë°ëª¨ ì•±](https://github.com/reactwg/react-18/discussions)
- [Concurrent Mode ìƒ˜í”Œ](https://codesandbox.io/s/concurrent-ui-patterns)

**ì„±ëŠ¥ ìµœì í™”**
- [React DevTools Profiler ê°€ì´ë“œ](https://react.dev/learn/react-developer-tools)
- [ì„±ëŠ¥ ì¸¡ì • ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤](https://web.dev/react/)
